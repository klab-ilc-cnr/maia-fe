<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>projectx-fe documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">projectx-fe documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content component">
                   <div class="content-data">




<ol class="breadcrumb">
  <li>Components</li>
  <li
  >
  WorkspaceTextWindowComponent</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
        <li >
            <a href="#templateData" role="tab" id="templateData-tab" data-toggle="tab" data-link="template">Template</a>
        </li>
        <li >
            <a href="#styleData" role="tab" id="styleData-tab" data-toggle="tab" data-link="style">Styles</a>
        </li>
        <li >
            <a href="#tree" role="tab" id="tree-tab" data-toggle="tab" data-link="dom-tree">DOM Tree</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info"><p class="comment">
    <h3>File</h3>
</p>
<p class="comment">
    <code>src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts</code>
</p>




    <p class="comment">
        <h3>Implements</h3>
    </p>
    <p class="comment">
                    <code><a href="https://angular.io/api/core/OnInit" target="_blank" >OnInit</a></code>
    </p>


<section>
    <h3>Metadata</h3>
    <table class="table table-sm table-hover metadata">
        <tbody>











            <tr>
                <td class="col-md-3">selector</td>
                <td class="col-md-9"><code>app-workspace-text-window</code></td>
            </tr>

            <tr>
                <td class="col-md-3">styleUrls</td>
                <td class="col-md-9"><code>./workspace-text-window.component.scss</code></td>
            </tr>



            <tr>
                <td class="col-md-3">templateUrl</td>
                <td class="col-md-9"><code>./workspace-text-window.component.html</code></td>
            </tr>








        </tbody>
    </table>
</section>

    <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#_editIsLocked" >_editIsLocked</a>
                            </li>
                            <li>
                                <a href="#annotation" >annotation</a>
                            </li>
                            <li>
                                <a href="#annotationsRes" >annotationsRes</a>
                            </li>
                            <li>
                                <a href="#dragArrow" >dragArrow</a>
                            </li>
                            <li>
                                <a href="#height" >height</a>
                            </li>
                            <li>
                                <a href="#layerOptions" >layerOptions</a>
                            </li>
                            <li>
                                <a href="#layersList" >layersList</a>
                            </li>
                            <li>
                                <a href="#relation" >relation</a>
                            </li>
                            <li>
                                <a href="#rows" >rows</a>
                            </li>
                            <li>
                                <a href="#selectedLayer" >selectedLayer</a>
                            </li>
                            <li>
                                <a href="#selectedLayers" >selectedLayers</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Optional</span>
                                <a href="#selectionEnd" >selectionEnd</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Optional</span>
                                <a href="#selectionStart" >selectionStart</a>
                            </li>
                            <li>
                                <a href="#sentnumVerticalLine" >sentnumVerticalLine</a>
                            </li>
                            <li>
                                <a href="#showAnnotationEditor" >showAnnotationEditor</a>
                            </li>
                            <li>
                                <a href="#showRelationEditor" >showRelationEditor</a>
                            </li>
                            <li>
                                <a href="#simplifiedAnns" >simplifiedAnns</a>
                            </li>
                            <li>
                                <a href="#simplifiedArcs" >simplifiedArcs</a>
                            </li>
                            <li>
                                <a href="#sourceAnn" >sourceAnn</a>
                            </li>
                            <li>
                                <a href="#sourceLayer" >sourceLayer</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#svg" >svg</a>
                            </li>
                            <li>
                                <a href="#svgHeight" >svgHeight</a>
                            </li>
                            <li>
                                <a href="#targetAnn" >targetAnn</a>
                            </li>
                            <li>
                                <a href="#targetLayer" >targetLayer</a>
                            </li>
                            <li>
                                <a href="#textContainerHeight" >textContainerHeight</a>
                            </li>
                            <li>
                                <a href="#textId" >textId</a>
                            </li>
                            <li>
                                <a href="#textRes" >textRes</a>
                            </li>
                            <li>
                                <a href="#visibleLayers" >visibleLayers</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#visualConfig" >visualConfig</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#changeVisibleLayers" >changeVisibleLayers</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#clearSelection" >clearSelection</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#computeArcOffset" >computeArcOffset</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#computeStartAndEndXPosition" >computeStartAndEndXPosition</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#createLine" >createLine</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#elaborateAnnotationLabel" >elaborateAnnotationLabel</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#elaborateArcLabel" >elaborateArcLabel</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#elaborateEndedArc" >elaborateEndedArc</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#elaborateInLineArc" >elaborateInLineArc</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#elaboratePassingArc" >elaboratePassingArc</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#elaborateStartedArc" >elaborateStartedArc</a>
                            </li>
                            <li>
                                <a href="#endDrawing" >endDrawing</a>
                            </li>
                            <li>
                                <a href="#endDrawingAndCreateRelation" >endDrawingAndCreateRelation</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#findAnnotationById" >findAnnotationById</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#findAnnotationInTowers" >findAnnotationInTowers</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#findTowerByAnnotationId" >findTowerByAnnotationId</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#generateArcPath" >generateArcPath</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#generateCurlyPath" >generateCurlyPath</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#generateHighlightId" >generateHighlightId</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#generateSentnumVerticalLine" >generateSentnumVerticalLine</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#getComputedTextLength" >getComputedTextLength</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#getCurrentTextSelection" >getCurrentTextSelection</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#getMaxArcOffset" >getMaxArcOffset</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#getMaxArcOffsetInRange" >getMaxArcOffsetInRange</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#getMaxTowerAroundAnns" >getMaxTowerAroundAnns</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#getMaxTowerPosition" >getMaxTowerPosition</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#getStdLineHeight" >getStdLineHeight</a>
                            </li>
                            <li>
                                <a href="#loadData" >loadData</a>
                            </li>
                            <li>
                                <a href="#mouseMoved" >mouseMoved</a>
                            </li>
                            <li>
                                <a href="#ngOnInit" >ngOnInit</a>
                            </li>
                            <li>
                                <a href="#onAnnotationCancel" >onAnnotationCancel</a>
                            </li>
                            <li>
                                <a href="#onAnnotationDeleted" >onAnnotationDeleted</a>
                            </li>
                            <li>
                                <a href="#onAnnotationSaved" >onAnnotationSaved</a>
                            </li>
                            <li>
                                <a href="#onChangeLayerSelection" >onChangeLayerSelection</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#onlySpaces" >onlySpaces</a>
                            </li>
                            <li>
                                <a href="#onRelationCancel" >onRelationCancel</a>
                            </li>
                            <li>
                                <a href="#onRelationDeleted" >onRelationDeleted</a>
                            </li>
                            <li>
                                <a href="#onRelationSaved" >onRelationSaved</a>
                            </li>
                            <li>
                                <a href="#onSelectionChange" >onSelectionChange</a>
                            </li>
                            <li>
                                <a href="#openAnnotation" >openAnnotation</a>
                            </li>
                            <li>
                                <a href="#openRelation" >openRelation</a>
                            </li>
                            <li>
                                <a href="#overEnterRelation" >overEnterRelation</a>
                            </li>
                            <li>
                                <a href="#overLeaveRelation" >overLeaveRelation</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#randomString" >randomString</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#renderAnnotationsForLine" >renderAnnotationsForLine</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#renderArcsForLine" >renderArcsForLine</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#renderData" >renderData</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#showEditorAndHideOthers" >showEditorAndHideOthers</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#sortFragmentsIntoTowers" >sortFragmentsIntoTowers</a>
                            </li>
                            <li>
                                <a href="#startDrawing" >startDrawing</a>
                            </li>
                            <li>
                                <a href="#updateComponentSize" >updateComponentSize</a>
                            </li>
                            <li>
                                <a href="#updateHeight" >updateHeight</a>
                            </li>
                            <li>
                                <a href="#updateTextEditorSize" >updateTextEditorSize</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

    <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(annotationService: <a href="../injectables/AnnotationService.html" target="_self">AnnotationService</a>, loaderService: <a href="../injectables/LoaderService.html" target="_self">LoaderService</a>, workspaceService: <a href="../injectables/WorkspaceService.html" target="_self">WorkspaceService</a>, layerService: <a href="../injectables/LayerService.html" target="_self">LayerService</a>, messageService: MessageService, msgConfService: <a href="../injectables/MessageConfigurationService.html" target="_self">MessageConfigurationService</a>, relationService: <a href="../injectables/RelationService.html" target="_self">RelationService</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="118" class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:118</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Costruttore per WorkspaceTextWindowComponent</p>
</div>
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>annotationService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/AnnotationService.html" target="_self" >AnnotationService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <p>servizi relativi alle annotazioni</p>

                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>loaderService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/LoaderService.html" target="_self" >LoaderService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <p>servizi per la gestione del segnale di caricamento</p>

                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>workspaceService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/WorkspaceService.html" target="_self" >WorkspaceService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <p>servizi relativi ai workspace //TODO valutare rimozione per mancato utilizzo</p>

                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>layerService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/LayerService.html" target="_self" >LayerService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <p>servizi relativi ai layer</p>

                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>messageService</td>
                                                  
                                                        <td>
                                                                    <code>MessageService</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <p>servizi per la gestione dei messaggi</p>

                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>msgConfService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/MessageConfigurationService.html" target="_self" >MessageConfigurationService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <p>servizi per la configurazione dei messaggi per messageService</p>

                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>relationService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/RelationService.html" target="_self" >RelationService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <p>servizi relativi alle relazioni</p>

                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>





    <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="changeVisibleLayers"></a>
                    <span class="name">
                        <span ><b>changeVisibleLayers</b></span>
                        <a href="#changeVisibleLayers"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>changeVisibleLayers(event: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="157"
                            class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:157</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Metodo che aggiorna la lista dei layer visibili e richiama il caricamento complessivo dei dati</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>event</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>evento di variazione dei layer visibili</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="clearSelection"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>clearSelection</b></span>
                        <a href="#clearSelection"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>clearSelection()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="609"
                            class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:609</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Metodo che rimuove la selezione testuale</p>
</div>

                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="computeArcOffset"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>computeArcOffset</b></span>
                        <a href="#computeArcOffset"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>computeArcOffset(lineTowers: Array<any>, sourceSpanLimit: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, targetSpanLimit: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, lineArcs: Array<any>, startArcX: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, endArcX: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, arcType: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="626"
                            class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:626</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>lineTowers</td>
                                    <td>
                                            <code>Array&lt;any&gt;</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>sourceSpanLimit</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>targetSpanLimit</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>lineArcs</td>
                                    <td>
                                            <code>Array&lt;any&gt;</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>startArcX</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>endArcX</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>arcType</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="computeStartAndEndXPosition"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>computeStartAndEndXPosition</b></span>
                        <a href="#computeStartAndEndXPosition"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>computeStartAndEndXPosition(sourceSpanLimit: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, targetSpanLimit: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, startIndex: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="651"
                            class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:651</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>sourceSpanLimit</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>targetSpanLimit</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>startIndex</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>{ startArcX: any; endArcX: any; }</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createLine"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>createLine</b></span>
                        <a href="#createLine"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>createLine(auxLineBuilder: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="661"
                            class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:661</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>auxLineBuilder</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../classes/Annotation.html" target="_self" >{ text: any; words: any; height: number; yText: number; x: number; startIndex: any; endIndex: any; annotationsTowers: any; yAnnotation: number; highlights: any; yHighlight: number; arcs: any; }</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="elaborateAnnotationLabel"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>elaborateAnnotationLabel</b></span>
                        <a href="#elaborateAnnotationLabel"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>elaborateAnnotationLabel(layer: <a href="../classes/Layer.html" target="_self">Layer | undefined</a>, annotation: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>, maxLengthComputed: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="800"
                            class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:800</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Metodo che calcola la label da assegnare a un&#39;annotazione</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>layer</td>
                                    <td>
                                                <code><a href="../classes/Layer.html" target="_self" >Layer | undefined</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>layer dell&#39;annotazione</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>annotation</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>annotazione della quale creare la label</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>maxLengthComputed</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>massima lunghezza possibile della label</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </div>
                    <div class="io-description">
                        <p>label dell&#39;annotazione</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="elaborateArcLabel"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>elaborateArcLabel</b></span>
                        <a href="#elaborateArcLabel"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>elaborateArcLabel(name: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="854"
                            class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:854</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Metodo che calcola la label da assegnare a un arco di relazione</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>name</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>nome della relazione</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>{ labelText: string; textWidth: any; labelWidth: any; }</code>

                    </div>
                    <div class="io-description">
                        <p>dati per la label dell&#39;arco</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="elaborateEndedArc"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>elaborateEndedArc</b></span>
                        <a href="#elaborateEndedArc"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>elaborateEndedArc(r: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>, lineTowers: Array<any>, sourceSpanLimit: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, targetSpanLimit: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, startIndex: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, lineArcs: Array<any>, isFromLeftToRight: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="874"
                            class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:874</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>r</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>lineTowers</td>
                                    <td>
                                            <code>Array&lt;any&gt;</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>sourceSpanLimit</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>targetSpanLimit</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>startIndex</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>lineArcs</td>
                                    <td>
                                            <code>Array&lt;any&gt;</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>isFromLeftToRight</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>{ start: { x: any; y: number; }; end: { x: any; y: any; }; yArcOffset: number; yAnnOffset: number; firstSegment: { start: any; end: any; }; secondSegment: { start: any; end: any; }; label: { start: any; end: any; width: any; text: string; startXText: any; yArcLabel: number; }; relation: any; relationId: any; type: s...</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="elaborateInLineArc"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>elaborateInLineArc</b></span>
                        <a href="#elaborateInLineArc"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>elaborateInLineArc(r: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>, lineTowers: Array<any>, sourceSpanLimit: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, targetSpanLimit: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, startIndex: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, lineArcs: Array<any>, isFromLeftToRight: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="966"
                            class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:966</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>r</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>lineTowers</td>
                                    <td>
                                            <code>Array&lt;any&gt;</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>sourceSpanLimit</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>targetSpanLimit</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>startIndex</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>lineArcs</td>
                                    <td>
                                            <code>Array&lt;any&gt;</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>isFromLeftToRight</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>{ start: { x: any; y: any; }; end: { x: any; y: any; }; yArcOffset: number; yAnnOffset: number; firstSegment: { start: any; end: any; }; secondSegment: { start: any; end: any; }; label: { start: any; end: any; width: any; text: string; startXText: any; yArcLabel: number; }; relation: any; relationId: any; type: stri...</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="elaboratePassingArc"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>elaboratePassingArc</b></span>
                        <a href="#elaboratePassingArc"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>elaboratePassingArc(r: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>, lineTowers: Array<any>, sourceSpanLimit: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, targetSpanLimit: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, startIndex: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, lineArcs: Array<any>, isFromLeftToRight: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1055"
                            class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:1055</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>r</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>lineTowers</td>
                                    <td>
                                            <code>Array&lt;any&gt;</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>sourceSpanLimit</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>targetSpanLimit</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>startIndex</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>lineArcs</td>
                                    <td>
                                            <code>Array&lt;any&gt;</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>isFromLeftToRight</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>{ start: { x: any; y: number; }; end: { x: any; y: number; }; yArcOffset: number; yAnnOffset: number; firstSegment: { start: any; end: any; }; secondSegment: { start: any; end: any; }; label: { start: any; end: any; width: any; text: string; startXText: any; yArcLabel: number; }; relation: any; relationId: any; type...</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="elaborateStartedArc"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>elaborateStartedArc</b></span>
                        <a href="#elaborateStartedArc"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>elaborateStartedArc(r: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>, lineTowers: Array<any>, sourceSpanLimit: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, targetSpanLimit: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, startIndex: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, lineArcs: Array<any>, isFromLeftToRight: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1144"
                            class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:1144</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>r</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>lineTowers</td>
                                    <td>
                                            <code>Array&lt;any&gt;</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>sourceSpanLimit</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>targetSpanLimit</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>startIndex</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>lineArcs</td>
                                    <td>
                                            <code>Array&lt;any&gt;</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>isFromLeftToRight</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>{ start: { x: any; y: any; }; end: { x: any; y: number; }; yArcOffset: number; yAnnOffset: number; firstSegment: { start: any; end: any; }; secondSegment: { start: any; end: any; }; label: { start: any; end: any; width: any; text: string; startXText: any; yArcLabel: number; }; relation: any; relationId: any; type: s...</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="endDrawing"></a>
                    <span class="name">
                        <span ><b>endDrawing</b></span>
                        <a href="#endDrawing"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>endDrawing(event: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="513"
                            class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:513</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Metodo che conclude il disegno di una relazione su mouseup al di fuori di un&#39;annotazione (non crea la relazione)</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>event</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>evento di mouseup //TODO valutare rimozione per mancato uso</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="endDrawingAndCreateRelation"></a>
                    <span class="name">
                        <span ><b>endDrawingAndCreateRelation</b></span>
                        <a href="#endDrawingAndCreateRelation"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>endDrawingAndCreateRelation(event: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>, annotation: <a href="../classes/Annotation.html" target="_self">Annotation</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="533"
                            class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:533</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Metodo che conclude il disegno di una relazione su mouseup su un&#39;annotazione e richiede la creazione della relazione</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>event</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>evento di mouseup su una annotazione</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>annotation</td>
                                    <td>
                                                <code><a href="../classes/Annotation.html" target="_self" >Annotation</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>annotazione sulla quale avviene il mouseup</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="findAnnotationById"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>findAnnotationById</b></span>
                        <a href="#findAnnotationById"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>findAnnotationById(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1247"
                            class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:1247</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Metodo che recupera un&#39;annotazione fra quelle semplificate sulla base dell&#39;id</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>identificativo dell&#39;annotazione</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        <p>annotazione estratta dalle annotazioni semplificate</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="findAnnotationInTowers"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>findAnnotationInTowers</b></span>
                        <a href="#findAnnotationInTowers"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>findAnnotationInTowers(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, lineTowers: Array<any>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1258"
                            class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:1258</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Metodo che recupera un&#39;annotazione dalle tower utilizzando l&#39;id</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>identificativo numerico dell&#39;annotazione</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>lineTowers</td>
                                    <td>
                                            <code>Array&lt;any&gt;</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>lista ?</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        <p>annotazione corrispondente nella tower ?</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="findTowerByAnnotationId"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>findTowerByAnnotationId</b></span>
                        <a href="#findTowerByAnnotationId"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>findTowerByAnnotationId(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, lineTowers: Array<any>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1277"
                            class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:1277</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Metodo che recupera la tower contenente una data annotazione</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>identificativo numerico dell&#39;annotazione</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>lineTowers</td>
                                    <td>
                                            <code>Array&lt;any&gt;</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>lista ?</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        <p>tower contenente l&#39;annotazione</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateArcPath"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>generateArcPath</b></span>
                        <a href="#generateArcPath"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>generateArcPath(ar: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1282"
                            class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:1282</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>ar</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>literal type</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateCurlyPath"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>generateCurlyPath</b></span>
                        <a href="#generateCurlyPath"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>generateCurlyPath(ann: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1350"
                            class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:1350</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>ann</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateHighlightId"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>generateHighlightId</b></span>
                        <a href="#generateHighlightId"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>generateHighlightId(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1366"
                            class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:1366</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Metodo che dato un id numerico calcola l&#39;id per la sua evidenziazione</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>identificativo numerico</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </div>
                    <div class="io-description">
                        <p>identificativo per evidenziazione</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateSentnumVerticalLine"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>generateSentnumVerticalLine</b></span>
                        <a href="#generateSentnumVerticalLine"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>generateSentnumVerticalLine()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1370"
                            class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:1370</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getComputedTextLength"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>getComputedTextLength</b></span>
                        <a href="#getComputedTextLength"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getComputedTextLength(text: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, font: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1375"
                            class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:1375</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>text</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>font</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getCurrentTextSelection"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>getCurrentTextSelection</b></span>
                        <a href="#getCurrentTextSelection"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getCurrentTextSelection()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1393"
                            class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:1393</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Metodo che recupera gli indici della selezione sul testo</p>
</div>

                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>{ startIndex: number; endIndex: number; }</code>

                    </div>
                    <div class="io-description">
                        <p>indici iniziale e finale della selezione se presente</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getMaxArcOffset"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>getMaxArcOffset</b></span>
                        <a href="#getMaxArcOffset"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getMaxArcOffset(array: Array<any>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1418"
                            class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:1418</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>array</td>
                                    <td>
                                            <code>Array&lt;any&gt;</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getMaxArcOffsetInRange"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>getMaxArcOffsetInRange</b></span>
                        <a href="#getMaxArcOffsetInRange"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getMaxArcOffsetInRange(array: Array<any>, startX: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, endX: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1422"
                            class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:1422</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>array</td>
                                    <td>
                                            <code>Array&lt;any&gt;</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>startX</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>endX</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getMaxTowerAroundAnns"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>getMaxTowerAroundAnns</b></span>
                        <a href="#getMaxTowerAroundAnns"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getMaxTowerAroundAnns(lineTowers: Array<any>, start: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, end: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1440"
                            class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:1440</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>lineTowers</td>
                                    <td>
                                            <code>Array&lt;any&gt;</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>start</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>end</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getMaxTowerPosition"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>getMaxTowerPosition</b></span>
                        <a href="#getMaxTowerPosition"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getMaxTowerPosition(array: any[])</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1436"
                            class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:1436</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>array</td>
                                    <td>
                                            <code>any[]</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getStdLineHeight"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>getStdLineHeight</b></span>
                        <a href="#getStdLineHeight"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getStdLineHeight()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1446"
                            class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:1446</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadData"></a>
                    <span class="name">
                        <span ><b>loadData</b></span>
                        <a href="#loadData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>loadData()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="166"
                            class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:166</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Metodo che recupera i dati iniziali relativi a opzioni, testo selezionato, con le sue annotazioni e relazioni</p>
</div>

                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="mouseMoved"></a>
                    <span class="name">
                        <span ><b>mouseMoved</b></span>
                        <a href="#mouseMoved"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>mouseMoved(event: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="260"
                            class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:260</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Metodo che gestisce il movimento del mouse nel trascinamento</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>event</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>evento di trascinamento del mouse</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnInit"></a>
                    <span class="name">
                        <span ><b>ngOnInit</b></span>
                        <a href="#ngOnInit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngOnInit()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="141"
                            class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:141</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Metodo dell&#39;interfaccia OnInit, utilizzato per caricare i dati iniziali del componente</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onAnnotationCancel"></a>
                    <span class="name">
                        <span ><b>onAnnotationCancel</b></span>
                        <a href="#onAnnotationCancel"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onAnnotationCancel()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="276"
                            class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:276</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Metodo che annulla una annotazione (intercetta emissione dell&#39;annotation editor)</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onAnnotationDeleted"></a>
                    <span class="name">
                        <span ><b>onAnnotationDeleted</b></span>
                        <a href="#onAnnotationDeleted"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onAnnotationDeleted()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="281"
                            class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:281</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Metodo che cancella una annotazione (intercetta emissione dell&#39;annotation editor)</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onAnnotationSaved"></a>
                    <span class="name">
                        <span ><b>onAnnotationSaved</b></span>
                        <a href="#onAnnotationSaved"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onAnnotationSaved()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="287"
                            class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:287</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Metodo che salva una annotazione (intercetta emissione dell&#39;annotation editor)</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onChangeLayerSelection"></a>
                    <span class="name">
                        <span ><b>onChangeLayerSelection</b></span>
                        <a href="#onChangeLayerSelection"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onChangeLayerSelection(event: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="293"
                            class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:293</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Metodo che intercetta il cambio di layer selezionato</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>event</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onlySpaces"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>onlySpaces</b></span>
                        <a href="#onlySpaces"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>onlySpaces(str: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1456"
                            class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:1456</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Metodo che data una stringa verifica se è composta da soli spazi</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>str</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>stringa da modificare</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                    <div class="io-description">
                        <p>definisce se la stringa è composta da soli spazi</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onRelationCancel"></a>
                    <span class="name">
                        <span ><b>onRelationCancel</b></span>
                        <a href="#onRelationCancel"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onRelationCancel()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="298"
                            class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:298</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Metodo che annulla una relazione (intercetta emissione del relation editor)</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onRelationDeleted"></a>
                    <span class="name">
                        <span ><b>onRelationDeleted</b></span>
                        <a href="#onRelationDeleted"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onRelationDeleted()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="305"
                            class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:305</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Metodo che annulla una relazione (intercetta emissione del relation editor)</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onRelationSaved"></a>
                    <span class="name">
                        <span ><b>onRelationSaved</b></span>
                        <a href="#onRelationSaved"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onRelationSaved()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="312"
                            class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:312</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Metodo che annulla una relazione (intercetta emissione del relation editor)</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onSelectionChange"></a>
                    <span class="name">
                        <span ><b>onSelectionChange</b></span>
                        <a href="#onSelectionChange"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onSelectionChange(event: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="323"
                            class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:323</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Metodo che gestisce le variazioni di selezione sul testo</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>event</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>evento di mouse up</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="openAnnotation"></a>
                    <span class="name">
                        <span ><b>openAnnotation</b></span>
                        <a href="#openAnnotation"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>openAnnotation(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="373"
                            class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:373</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Metodo che apre l&#39;annotazione selezionata nell&#39;editor</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>identificativo numerico di un&#39;annotazione</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="openRelation"></a>
                    <span class="name">
                        <span ><b>openRelation</b></span>
                        <a href="#openRelation"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>openRelation(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="407"
                            class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:407</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Metodo che apre la relazione selezionata nell&#39;editor</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>identificativo della relazione</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="overEnterRelation"></a>
                    <span class="name">
                        <span ><b>overEnterRelation</b></span>
                        <a href="#overEnterRelation"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>overEnterRelation(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="447"
                            class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:447</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Metodo che evidenzia una relazione (e il suo arco) quando vi si entra con il mouse</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>identificativo numerico di una relazione</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="overLeaveRelation"></a>
                    <span class="name">
                        <span ><b>overLeaveRelation</b></span>
                        <a href="#overLeaveRelation"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>overLeaveRelation(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="467"
                            class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:467</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Metodo che rimuove l&#39;evidenziazione di una relazione quando il mouse esce dalla stessa</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>identificativo numerico di una relazione</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="randomString"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>randomString</b></span>
                        <a href="#randomString"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>randomString(length: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1460"
                            class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:1460</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>length</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="renderAnnotationsForLine"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>renderAnnotationsForLine</b></span>
                        <a href="#renderAnnotationsForLine"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>renderAnnotationsForLine(startIndex: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, endIndex: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1476"
                            class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:1476</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Metodo che gestisce la renderizzazione delle annotazioni per una line</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>startIndex</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>indice iniziale</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>endIndex</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>indice finale</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>{ lineTowers: any; lineHighLights: any; }</code>

                    </div>
                    <div class="io-description">
                        <p>dati delle annotazioni per la line</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="renderArcsForLine"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>renderArcsForLine</b></span>
                        <a href="#renderArcsForLine"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>renderArcsForLine(startIndex: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, endIndex: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, lineTowers: Array<any>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1583"
                            class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:1583</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Metodo che gestisce la renderizzazione degli archi per una line</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>startIndex</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>indice iniziale</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>endIndex</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>indice finale</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>lineTowers</td>
                                    <td>
                                            <code>Array&lt;any&gt;</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>lista ?</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        <p>lista degli archi per la line</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="renderData"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>renderData</b></span>
                        <a href="#renderData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>renderData()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1748"
                            class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:1748</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Metodo che gestisce la renderizzazione del testo annotato</p>
</div>

                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="showEditorAndHideOthers"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>showEditorAndHideOthers</b></span>
                        <a href="#showEditorAndHideOthers"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>showEditorAndHideOthers(name: <a href="../undefineds/EditorType.html" target="_self">EditorType</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1885"
                            class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:1885</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Metodo che visualizza il tipo di editor richiesto e nasconde eventuali altri editor</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>name</td>
                                    <td>
                                                <code><a href="../miscellaneous/enumerations.html#EditorType" target="_self" >EditorType</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>nome del tipo di editor</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="sortFragmentsIntoTowers"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>sortFragmentsIntoTowers</b></span>
                        <a href="#sortFragmentsIntoTowers"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>sortFragmentsIntoTowers(annotations: any[])</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1907"
                            class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:1907</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>annotations</td>
                                    <td>
                                            <code>any[]</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="startDrawing"></a>
                    <span class="name">
                        <span ><b>startDrawing</b></span>
                        <a href="#startDrawing"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>startDrawing(event: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>, annotation: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="488"
                            class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:488</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Metodo che avvia il disegno di una relazione a partire da una annotazion</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>event</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>evento di mousedown //TODO valutare rimozione per mancato uso</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>annotation</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>annotazione sulla quale avviene il mousedown</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateComponentSize"></a>
                    <span class="name">
                        <span ><b>updateComponentSize</b></span>
                        <a href="#updateComponentSize"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>updateComponentSize(newHeight: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="586"
                            class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:586</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Metodo che aggiorna le dimensioni del componente</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>newHeight</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>nuova altezza</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateHeight"></a>
                    <span class="name">
                        <span ><b>updateHeight</b></span>
                        <a href="#updateHeight"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>updateHeight(newHeight: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="595"
                            class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:595</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Metodo che aggiorna l&#39;altezza del pannello e del container del testo</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>newHeight</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>nuova altezza</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateTextEditorSize"></a>
                    <span class="name">
                        <span ><b>updateTextEditorSize</b></span>
                        <a href="#updateTextEditorSize"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>updateTextEditorSize()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="601"
                            class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:601</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Metodo che aggiorna le dimensioni dell&#39;editor di testo</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
    <section>
    
    <h3 id="inputs">
        Properties
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="_editIsLocked"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>_editIsLocked</b></span>
                        <a href="#_editIsLocked"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="34" class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:34</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Definisce se la modifica è bloccata</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="annotation"></a>
                    <span class="name">
                        <span ><b>annotation</b></span>
                        <a href="#annotation"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new Annotation()</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="63" class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:63</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Annotazione in lavorazione</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="annotationsRes"></a>
                    <span class="name">
                        <span ><b>annotationsRes</b></span>
                        <a href="#annotationsRes"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="65" class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:65</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Annotation response</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="dragArrow"></a>
                    <span class="name">
                        <span ><b>dragArrow</b></span>
                        <a href="#dragArrow"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    m: &quot;&quot;,
    c: &quot;&quot;,
    isDrawing: false,
    visibility: &quot;hidden&quot;,
    sourceAnn: new Annotation(),
    targetAnn: new Annotation()
  }</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="67" class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:67</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Freccia di relazione</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="height"></a>
                    <span class="name">
                        <span ><b>height</b></span>
                        <a href="#height"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>window.innerHeight / 2</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="76" class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:76</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Altezza del pannello di testo</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="layerOptions"></a>
                    <span class="name">
                        <span ><b>layerOptions</b></span>
                        <a href="#layerOptions"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new Array&lt;SelectItem&gt;()</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="78" class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:78</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Lista delle opzioni layer</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="layersList"></a>
                    <span class="name">
                        <span ><b>layersList</b></span>
                        <a href="#layersList"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../classes/Layer.html" target="_self" >Layer[]</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="80" class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:80</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Lista dei layer</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="relation"></a>
                    <span class="name">
                        <span ><b>relation</b></span>
                        <a href="#relation"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new Relation()</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="82" class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:82</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Relazione in lavorazione</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="rows"></a>
                    <span class="name">
                        <span ><b>rows</b></span>
                        <a href="#rows"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../classes/TextRow.html" target="_self" >TextRow[]</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="84" class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:84</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Righe di testo</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="selectedLayer"></a>
                    <span class="name">
                        <span ><b>selectedLayer</b></span>
                        <a href="#selectedLayer"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="86" class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:86</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Layer selezionato</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="selectedLayers"></a>
                    <span class="name">
                        <span ><b>selectedLayers</b></span>
                        <a href="#selectedLayers"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../classes/Layer.html" target="_self" >Layer[] | undefined</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="88" class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:88</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Lista di layer selezionati</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="selectionEnd"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                            <span class="modifier">Optional</span>
                        <span ><b>selectionEnd</b></span>
                        <a href="#selectionEnd"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="32" class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:32</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Indice di fine selezione</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="selectionStart"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                            <span class="modifier">Optional</span>
                        <span ><b>selectionStart</b></span>
                        <a href="#selectionStart"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="30" class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:30</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Indice di inizio selezione</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="sentnumVerticalLine"></a>
                    <span class="name">
                        <span ><b>sentnumVerticalLine</b></span>
                        <a href="#sentnumVerticalLine"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;M 0 0&quot;</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="90" class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:90</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="showAnnotationEditor"></a>
                    <span class="name">
                        <span ><b>showAnnotationEditor</b></span>
                        <a href="#showAnnotationEditor"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="92" class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:92</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Definisce se visualizzare l&#39;editor di annotazione</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="showRelationEditor"></a>
                    <span class="name">
                        <span ><b>showRelationEditor</b></span>
                        <a href="#showRelationEditor"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="94" class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:94</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Definisce se visualizzare l&#39;editor delle relazioni</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="simplifiedAnns"></a>
                    <span class="name">
                        <span ><b>simplifiedAnns</b></span>
                        <a href="#simplifiedAnns"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="96" class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:96</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Annotazioni semplificate</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="simplifiedArcs"></a>
                    <span class="name">
                        <span ><b>simplifiedArcs</b></span>
                        <a href="#simplifiedArcs"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../classes/Relation.html" target="_self" >Array&lt;Relation&gt;</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="98" class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:98</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Lista di archi di relazione semplificati</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="sourceAnn"></a>
                    <span class="name">
                        <span ><b>sourceAnn</b></span>
                        <a href="#sourceAnn"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new Annotation()</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="100" class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:100</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Annotazione sorgente della relazione</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="sourceLayer"></a>
                    <span class="name">
                        <span ><b>sourceLayer</b></span>
                        <a href="#sourceLayer"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new Layer()</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="102" class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:102</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Layer sorgente dell&#39;annotazione</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="svg"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>svg</b></span>
                        <a href="#svg"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://angular.io/api/core/ElementRef" target="_blank" >ElementRef</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <b>Decorators : </b>
                        <br />
                        <code>
                            @ViewChild(&#x27;svg&#x27;)<br />
                        </code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="118" class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:118</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Riferimento all&#39;elemento svg</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="svgHeight"></a>
                    <span class="name">
                        <span ><b>svgHeight</b></span>
                        <a href="#svgHeight"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>0</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="103" class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:103</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="targetAnn"></a>
                    <span class="name">
                        <span ><b>targetAnn</b></span>
                        <a href="#targetAnn"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new Annotation()</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="105" class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:105</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Annotazione target della relazione</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="targetLayer"></a>
                    <span class="name">
                        <span ><b>targetLayer</b></span>
                        <a href="#targetLayer"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new Layer()</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="107" class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:107</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Layer target della relazione</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="textContainerHeight"></a>
                    <span class="name">
                        <span ><b>textContainerHeight</b></span>
                        <a href="#textContainerHeight"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>window.innerHeight / 2</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="109" class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:109</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Altezza del contenitore del testo</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="textId"></a>
                    <span class="name">
                        <span ><b>textId</b></span>
                        <a href="#textId"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>number | undefined</code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="111" class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:111</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Identificativo numerico del testo</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="textRes"></a>
                    <span class="name">
                        <span ><b>textRes</b></span>
                        <a href="#textRes"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="113" class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:113</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Text response</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="visibleLayers"></a>
                    <span class="name">
                        <span ><b>visibleLayers</b></span>
                        <a href="#visibleLayers"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../classes/Layer.html" target="_self" >Layer[]</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="115" class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:115</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Lista dei layer visibili</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="visualConfig"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>visualConfig</b></span>
                        <a href="#visualConfig"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/object" target="_blank" >object</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    draggedArcHeight: 30,
    spaceBeforeTextLine: 8,
    spaceAfterTextLine: 8,
    stdTextLineHeight: 18,
    stdTextOffsetX: 37,
    stdSentnumOffsetX: 32,
    spaceBeforeVerticalLine: 2,
    spaceAfterVerticalLine: 2,
    textFont: &quot;13px monospace&quot;,
    jsPanelHeaderBarHeight: 29.5,
    layerSelectHeightAndMargin: 69.75 + 16,
    paddingAfterTextEditor: 10,
    annotationHeight: 12,
    curlyHeight: 4,
    annotationFont: &quot;10px &#x27;PT Sans Caption&#x27;&quot;,
    arcFont: &quot;10px &#x27;PT Sans Caption&#x27;&quot;,
    labelMaxLength: 10,
    labelEllipsisText: &quot;...&quot;,
    labelPaddingXAxis: 3,
    arcAngleOffset: 3,
    arcSpacing: 10,
    arcCircleLabelPlaceholderHeight: 7,
    arcCircleLabelPlaceholderWidth: 7
  }</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="36" class="link-to-prism">src/app/pages/workspace/workspace-text-window/workspace-text-window.component.ts:36</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Configurazione di visualizzazione iniziale</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
</section>

</div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { EditorType } from &#x27;src/app/models/editor-type&#x27;;
import { LineBuilder } from &#x27;src/app/models/text/line-builder&#x27;;
import { LoaderService } from &#x27;src/app/services/loader.service&#x27;;
import { AnnotationService } from &#x27;src/app/services/annotation.service&#x27;;
import { SpanCoordinates } from &#x27;src/app/models/annotation/span-coordinates&#x27;;
import { Annotation } from &#x27;src/app/models/annotation/annotation&#x27;;
import { WorkspaceService } from &#x27;src/app/services/workspace.service&#x27;;
import { Component, ElementRef, OnInit, ViewChild } from &#x27;@angular/core&#x27;;
import { TextRow } from &#x27;src/app/models/text/text-row&#x27;;
import { MessageService, SelectItem } from &#x27;primeng/api&#x27;;
import { LayerService } from &#x27;src/app/services/layer.service&#x27;;
import { Layer } from &#x27;src/app/models/layer/layer.model&#x27;;
import { TextLine } from &#x27;src/app/models/text/text-line&#x27;;
import { forkJoin } from &#x27;rxjs&#x27;;
import { TextHighlight } from &#x27;src/app/models/text/text-highlight&#x27;;
import { MessageConfigurationService } from &#x27;src/app/services/message-configuration.service&#x27;;
import { Relation } from &#x27;src/app/models/relation/relation&#x27;;
import { Relations } from &#x27;src/app/models/relation/relations&#x27;;
import { AnnotationMetadata } from &#x27;src/app/models/annotation/annotation-metadata&#x27;;
import { RelationService } from &#x27;src/app/services/relation.service&#x27;;

@Component({
  selector: &#x27;app-workspace-text-window&#x27;,
  templateUrl: &#x27;./workspace-text-window.component.html&#x27;,
  styleUrls: [&#x27;./workspace-text-window.component.scss&#x27;]
})
export class WorkspaceTextWindowComponent implements OnInit {

  /**Indice di inizio selezione */
  private selectionStart?: number;
  /**Indice di fine selezione */
  private selectionEnd?: number;
  /**Definisce se la modifica è bloccata */ //TODO non in uso, verificare
  private _editIsLocked: boolean &#x3D; false;
  /**Configurazione di visualizzazione iniziale */
  private visualConfig &#x3D; {
    draggedArcHeight: 30,
    spaceBeforeTextLine: 8,
    spaceAfterTextLine: 8,
    stdTextLineHeight: 18,
    stdTextOffsetX: 37,
    stdSentnumOffsetX: 32,
    spaceBeforeVerticalLine: 2,
    spaceAfterVerticalLine: 2,
    textFont: &quot;13px monospace&quot;,
    jsPanelHeaderBarHeight: 29.5,
    layerSelectHeightAndMargin: 69.75 + 16,
    paddingAfterTextEditor: 10,
    annotationHeight: 12,
    curlyHeight: 4,
    annotationFont: &quot;10px &#x27;PT Sans Caption&#x27;&quot;,
    arcFont: &quot;10px &#x27;PT Sans Caption&#x27;&quot;,
    labelMaxLength: 10,
    labelEllipsisText: &quot;...&quot;,
    labelPaddingXAxis: 3,
    arcAngleOffset: 3,
    arcSpacing: 10,
    arcCircleLabelPlaceholderHeight: 7,
    arcCircleLabelPlaceholderWidth: 7
  }

  /**Annotazione in lavorazione */
  annotation &#x3D; new Annotation();
  /**Annotation response */
  annotationsRes: any;
  /**Freccia di relazione */
  dragArrow: any &#x3D; {
    m: &quot;&quot;,
    c: &quot;&quot;,
    isDrawing: false,
    visibility: &quot;hidden&quot;,
    sourceAnn: new Annotation(),
    targetAnn: new Annotation()
  };
  /**Altezza del pannello di testo */
  height: number &#x3D; window.innerHeight / 2;
  /**Lista delle opzioni layer */
  layerOptions &#x3D; new Array&lt;SelectItem&gt;();
  /**Lista dei layer */
  layersList: Layer[] &#x3D; [];
  /**Relazione in lavorazione */
  relation &#x3D; new Relation();
  /**Righe di testo */
  rows: TextRow[] &#x3D; [];
  /**Layer selezionato */
  selectedLayer: any;
  /**Lista di layer selezionati */
  selectedLayers: Layer[] | undefined;

  sentnumVerticalLine: string &#x3D; &quot;M 0 0&quot;;
  /**Definisce se visualizzare l&#x27;editor di annotazione */
  showAnnotationEditor: boolean &#x3D; false;
  /**Definisce se visualizzare l&#x27;editor delle relazioni */
  showRelationEditor: boolean &#x3D; false;
  /**Annotazioni semplificate */
  simplifiedAnns: any;
  /**Lista di archi di relazione semplificati */
  simplifiedArcs: Array&lt;Relation&gt; &#x3D; [];
  /**Annotazione sorgente della relazione */
  sourceAnn &#x3D; new Annotation();
  /**Layer sorgente dell&#x27;annotazione */
  sourceLayer &#x3D; new Layer();
  svgHeight: number &#x3D; 0;
  /**Annotazione target della relazione */
  targetAnn &#x3D; new Annotation();
  /**Layer target della relazione */
  targetLayer &#x3D; new Layer();
  /**Altezza del contenitore del testo */
  textContainerHeight: number &#x3D; window.innerHeight / 2;
  /**Identificativo numerico del testo */
  textId: number | undefined;
  /**Text response */
  textRes: any;
  /**Lista dei layer visibili */
  visibleLayers: Layer[] &#x3D; [];

  /**Riferimento all&#x27;elemento svg */
  @ViewChild(&#x27;svg&#x27;) public svg!: ElementRef;

  /**
   * Costruttore per WorkspaceTextWindowComponent
   * @param annotationService {AnnotationService} servizi relativi alle annotazioni
   * @param loaderService {LoaderService} servizi per la gestione del segnale di caricamento
   * @param workspaceService {WorkspaceService} servizi relativi ai workspace //TODO valutare rimozione per mancato utilizzo
   * @param layerService {LayerService} servizi relativi ai layer
   * @param messageService {MessageService} servizi per la gestione dei messaggi
   * @param msgConfService {MessageConfigurationService} servizi per la configurazione dei messaggi per messageService
   * @param relationService {RelationService} servizi relativi alle relazioni
   */
  constructor(
    private annotationService: AnnotationService,
    private loaderService: LoaderService,
    private workspaceService: WorkspaceService,
    private layerService: LayerService,
    private messageService: MessageService,
    private msgConfService: MessageConfigurationService,
    private relationService: RelationService
  ) { }

  /**Metodo dell&#x27;interfaccia OnInit, utilizzato per caricare i dati iniziali del componente */
  ngOnInit(): void {
    if (!this.textId) {
      return;
    }

    this.showAnnotationEditor &#x3D; true;

    this.updateHeight(this.height);

    this.loadData();
  }

  /**
   * Metodo che aggiorna la lista dei layer visibili e richiama il caricamento complessivo dei dati
   * @param event {any} evento di variazione dei layer visibili
   */
  changeVisibleLayers(event: any) {
    this.visibleLayers &#x3D; this.selectedLayers || [];
    this.loadData();
  }

  /**
   * Metodo che recupera i dati iniziali relativi a opzioni, testo selezionato, con le sue annotazioni e relazioni
   * @returns {void}
   */
  loadData() {
    if (!this.textId) {
      return;
    }

    this.annotation &#x3D; new Annotation();
    this.relation &#x3D; new Relation();

    this.loaderService.show();

    forkJoin([
      this.layerService.retrieveLayers(),
      this.annotationService.retrieveText(this.textId),
      this.annotationService.retrieveByNodeId(this.textId),
      this.relationService.retrieveByTextId(this.textId)
    ]).subscribe({
      next: ([layersResponse, textResponse, annotationsResponse, relationsResponse]) &#x3D;&gt; {
        this.layersList &#x3D; layersResponse;

        if (!this.selectedLayers) { //se non ci sono layer selezionati i layer selezionati e visibili sono uguali alla lista di layer
          this.visibleLayers &#x3D; this.selectedLayers &#x3D; this.layersList;
        }
        else {
          this.visibleLayers &#x3D; this.selectedLayers;
        }

        this.layerOptions &#x3D; layersResponse.map(item &#x3D;&gt; ({ label: item.name, value: item.id })); //ottiene le opzioni di layer mappando la risposta in forma più compatta

        this.layerOptions.sort((a, b) &#x3D;&gt; (a.label &amp;&amp; b.label &amp;&amp; a.label.toLowerCase() &gt; b.label.toLowerCase()) ? 1 : -1);

        this.layerOptions.unshift({
          label: &quot;Nessuna annotazione&quot;,
          value: -1
        });

        if (!this.selectedLayer) {
          this.selectedLayer &#x3D; -1;
        }

        this.annotation.layer &#x3D; this.selectedLayer;
        this.annotation.layerName &#x3D; this.layerOptions.find(l &#x3D;&gt; l.value &#x3D;&#x3D; this.selectedLayer)?.label;

        this.textRes &#x3D; textResponse;
        this.annotationsRes &#x3D; annotationsResponse;

        this.simplifiedAnns &#x3D; [];
        this.simplifiedArcs &#x3D; relationsResponse;

        let layersIndex &#x3D; new Array&lt;string&gt;();

        this.visibleLayers.forEach(l &#x3D;&gt; {
          if (l.id) {
            layersIndex.push(l.id?.toString())
          }
        })

        this.annotationsRes.annotations.forEach((a: Annotation) &#x3D;&gt; { //cicla sulle annotazioni nella risposta
          if (a.spans &amp;&amp; layersIndex.includes(a.layer)) { //se sono presenti span e il layer è nella lista di quelli visibili
            let sAnn &#x3D; a.spans.map((sc: SpanCoordinates) &#x3D;&gt; {
              let { spans, ...newAnn } &#x3D; a;
              return {
                ...newAnn,
                span: sc
              }
            })

            this.simplifiedAnns.push(...sAnn);
          }

          /*           if (a.attributes &amp;&amp; a.attributes[&quot;relations&quot;]) {
                      let sArc &#x3D; a.attributes[&quot;relations&quot;].out.forEach((r: Relation) &#x3D;&gt; {
                        if (!this.simplifiedArcs.includes(r) &amp;&amp; r.srcLayerId &amp;&amp; layersIndex.includes(r.srcLayerId.toString()) &amp;&amp; r.targetLayerId &amp;&amp; layersIndex.includes(r.targetLayerId.toString())) {
                          this.simplifiedArcs.push(r);
                        }
                      })
                    } */
        })

        this.simplifiedAnns.sort((a: any, b: any) &#x3D;&gt; a.span.start &lt; b.span.start);

        console.log(&#x27;Hello&#x27;, this.simplifiedAnns)
        console.log(&#x27;Archi&#x27;, this.simplifiedArcs)

        this.renderData();
        this.loaderService.hide();
      }
    });
  }

  /**
   * Metodo che gestisce il movimento del mouse nel trascinamento
   * @param event {any} evento di trascinamento del mouse
   * @returns {void}
   */
  mouseMoved(event: any) {
    if (this.dragArrow.isDrawing) { //traccia solo il caso di freccia di trascinamento che sta disegnando
      this.dragArrow.visibility &#x3D; &quot;visible&quot;;
      this.svg.nativeElement.classList.add(&#x27;unselectable&#x27;);

      let x1 &#x3D; this.dragArrow.x1
      let y1 &#x3D; Math.min(...[this.dragArrow.y1, event.offsetY]) - this.visualConfig.draggedArcHeight;
      let x2 &#x3D; event.offsetX
      let y2 &#x3D; y1

      this.dragArrow.c &#x3D; &quot;C &quot; + x1 + &quot; &quot; + y1 + &quot;, &quot; + x2 + &quot; &quot; + y2 + &quot;, &quot; + event.offsetX + &quot; &quot; + event.offsetY
      return;
    }
  }

  /**Metodo che annulla una annotazione (intercetta emissione dell&#x27;annotation editor) */
  onAnnotationCancel() {
    this.annotation &#x3D; new Annotation();
  }

  /**Metodo che cancella una annotazione (intercetta emissione dell&#x27;annotation editor) */
  onAnnotationDeleted() {
    this.annotation &#x3D; new Annotation();
    this.loadData();
  }

  /**Metodo che salva una annotazione (intercetta emissione dell&#x27;annotation editor) */
  onAnnotationSaved() {
    this.annotation &#x3D; new Annotation();
    this.loadData();
  }

  /**Metodo che intercetta il cambio di layer selezionato */ //TODO sembra avere unicamente funzioni di debugging, vedere se eliminare
  onChangeLayerSelection(event: any) {
    console.log(&#x27;hello&#x27;, this.selectedLayer, event)
  }

  /**Metodo che annulla una relazione (intercetta emissione del relation editor) */
  onRelationCancel() {
    this.relation &#x3D; new Relation();
    this.annotation &#x3D; new Annotation();
    this.showEditorAndHideOthers(EditorType.Annotation);
  }

  /**Metodo che annulla una relazione (intercetta emissione del relation editor) */
  onRelationDeleted() {
    this.relation &#x3D; new Relation();
    this.showEditorAndHideOthers(EditorType.Annotation);
    this.loadData();
  }

  /**Metodo che annulla una relazione (intercetta emissione del relation editor) */
  onRelationSaved() {
    this.relation &#x3D; new Relation();
    this.showEditorAndHideOthers(EditorType.Annotation);
    this.loadData();
  }

  /**
   * Metodo che gestisce le variazioni di selezione sul testo
   * @param event {any} evento di mouse up
   * @returns {void}
   */
  onSelectionChange(event: any): void {
    const selection &#x3D; this.getCurrentTextSelection();

    if (!selection) { //caso senza selezione, esco dal metodo
      return;
    }

    this.annotation &#x3D; new Annotation();

    let startIndex &#x3D; selection.startIndex;
    let endIndex &#x3D; selection.endIndex;
    let text &#x3D; this.textRes.text.substring(startIndex, endIndex); //estrapola il testo selezionato

    if (!this.onlySpaces(text)) { 
      let originalLength &#x3D; text.length;
      let newText &#x3D; text.trimStart();
      let newLength &#x3D; newText.length;

      startIndex &#x3D; startIndex + (originalLength - newLength);

      newText &#x3D; text.trimEnd();
      newLength &#x3D; newText.length;

      endIndex &#x3D; endIndex - (originalLength - newLength);
    }

    let relations &#x3D; new Relations();

    this.annotation.layer &#x3D; this.selectedLayer;
    this.annotation.layerName &#x3D; this.layerOptions.find(l &#x3D;&gt; l.value &#x3D;&#x3D; this.selectedLayer)?.label;
    this.annotation.spans &#x3D; new Array&lt;SpanCoordinates&gt;();
    this.annotation.spans.push({
      start: startIndex,
      end: endIndex
    })

    this.annotation.attributes &#x3D; {};
    this.annotation.attributes[&quot;relations&quot;] &#x3D; relations;
    this.annotation.attributes[&quot;metadata&quot;] &#x3D; new AnnotationMetadata();

    this.annotation.value &#x3D; text;

    this.showEditorAndHideOthers(EditorType.Annotation);
  }

  /**
   * Metodo che apre l&#x27;annotazione selezionata nell&#x27;editor
   * @param id {number} identificativo numerico di un&#x27;annotazione
   * @returns {void}
   */
  openAnnotation(id: number) {
    if (this.dragArrow.isDrawing) { //se sto disegnando una relazione non faccio niente
      return;
    }

    if (!id) { //se non ho un id per l&#x27;annotazione genero errore ed esco
      this.messageService.add(this.msgConfService.generateErrorMessageConfig(&#x27;Impossibile visualizzare l\&#x27;annotazione selezionata&#x27;));
      return;
    }

    this.showEditorAndHideOthers(EditorType.Annotation); //visualizzo l&#x27;editor di annotazione

    let ann &#x3D; this.annotationsRes.annotations.find((a: any) &#x3D;&gt; a.id &#x3D;&#x3D; id); //cerca fra le annotazioni quella corrente attraverso l&#x27;id

    if (!ann) {
      this.messageService.add(this.msgConfService.generateErrorMessageConfig(&#x27;Annotazione non trovata&#x27;));
      return;
    }

    // if (this._editIsLocked) {

    // }

    this.annotation &#x3D; { ...ann }
    this.annotation.layerName &#x3D; this.layerOptions.find(l &#x3D;&gt; l.value &#x3D;&#x3D; Number.parseInt(ann.layer))?.label;

    //this._editIsLocked &#x3D; true;
  }

  /**
   * Metodo che apre la relazione selezionata nell&#x27;editor
   * @param id {string} identificativo della relazione
   * @returns {void}
   */
  openRelation(id: string) {
    if (this.dragArrow.isDrawing) {
      return;
    }

    if (!id) {
      this.messageService.add(this.msgConfService.generateErrorMessageConfig(&#x27;Impossibile visualizzare la relazione selezionata&#x27;));
      return;
    }

    let rel &#x3D; this.simplifiedArcs.find((a: any) &#x3D;&gt; a.id &#x3D;&#x3D; id)

    if (!rel) {
      this.messageService.add(this.msgConfService.generateErrorMessageConfig(&#x27;Relazione non trovata&#x27;));
      return;
    }

    this.relation &#x3D; { ...rel };
    this.sourceAnn &#x3D; this.annotationsRes.annotations.find((a: any) &#x3D;&gt; a.id &#x3D;&#x3D; rel?.srcAnnotationId);
    this.targetAnn &#x3D; this.annotationsRes.annotations.find((a: any) &#x3D;&gt; a.id &#x3D;&#x3D; rel?.targetAnnotationId);

    let sLayer &#x3D; this.layersList.find(l &#x3D;&gt; l.id &#x3D;&#x3D; Number.parseInt(this.sourceAnn.layer));
    let tLayer &#x3D; this.layersList.find(l &#x3D;&gt; l.id &#x3D;&#x3D; Number.parseInt(this.targetAnn.layer));

    if (!sLayer || !tLayer) {
      this.messageService.add(this.msgConfService.generateErrorMessageConfig(&#x27;Impossibile visualizzare la relazione selezionata&#x27;));
      return;
    }

    this.sourceLayer &#x3D; sLayer;
    this.targetLayer &#x3D; tLayer;

    this.showEditorAndHideOthers(EditorType.Relation);
  }

  /**
   * Metodo che evidenzia una relazione (e il suo arco) quando vi si entra con il mouse
   * @param id {number} identificativo numerico di una relazione
   * @returns {void}
   */
  overEnterRelation(id: number) {
    $(&#x27;*[data-relation-id&#x3D;&quot;&#x27; + id + &#x27;&quot;]&#x27;).addClass(&quot;filtered&quot;);

    let arc &#x3D; this.simplifiedArcs.find(ar &#x3D;&gt; ar.id &#x3D;&#x3D; id);

    if (!arc || !arc.srcAnnotationId || !arc.targetAnnotationId) {
      return;
    }

    $(&#x27;#&#x27; + arc.srcAnnotationId + &#x27;&#x27;).addClass(&quot;filtered&quot;);
    $(&#x27;#&#x27; + arc.targetAnnotationId + &#x27;&#x27;).addClass(&quot;filtered&quot;);
    $(&#x27;#&#x27; + this.generateHighlightId(arc.srcAnnotationId) + &#x27;&#x27;).addClass(&quot;over&quot;);
    $(&#x27;#&#x27; + this.generateHighlightId(arc.targetAnnotationId) + &#x27;&#x27;).addClass(&quot;over&quot;);
  }

  /**
   * Metodo che rimuove l&#x27;evidenziazione di una relazione quando il mouse esce dalla stessa
   * @param id {number} identificativo numerico di una relazione
   * @returns {void}
   */
  overLeaveRelation(id: number) {
    $(&#x27;*[data-relation-id&#x3D;&quot;&#x27; + id + &#x27;&quot;]&#x27;).removeClass(&quot;filtered&quot;);

    let arc &#x3D; this.simplifiedArcs.find(ar &#x3D;&gt; ar.id &#x3D;&#x3D; id);

    if (!arc || !arc.srcAnnotationId || !arc.targetAnnotationId) {
      return;
    }

    $(&#x27;#&#x27; + arc.srcAnnotationId + &#x27;&#x27;).removeClass(&quot;filtered&quot;);
    $(&#x27;#&#x27; + arc.targetAnnotationId + &#x27;&#x27;).removeClass(&quot;filtered&quot;);
    $(&#x27;#&#x27; + this.generateHighlightId(arc.srcAnnotationId) + &#x27;&#x27;).removeClass(&quot;over&quot;);
    $(&#x27;#&#x27; + this.generateHighlightId(arc.targetAnnotationId) + &#x27;&#x27;).removeClass(&quot;over&quot;);
  }

  /**
   * Metodo che avvia il disegno di una relazione a partire da una annotazion
   * @param event {any} evento di mousedown //TODO valutare rimozione per mancato uso
   * @param annotation {any} annotazione sulla quale avviene il mousedown
   * @returns {void}
   */
  startDrawing(event: any, annotation: any) {
    if (!annotation.id) {
      return;
    }

    let ann &#x3D; this.annotationsRes.annotations.find((a: any) &#x3D;&gt; a.id &#x3D;&#x3D; annotation.id);

    if (!ann) {
      return;
    }

    this.dragArrow.sourceAnn &#x3D; ann;
    this.dragArrow.isDrawing &#x3D; true;
    this.dragArrow.m &#x3D; &quot;M &quot; + (annotation.startX + (annotation.endX - annotation.startX) / 2) + &quot; &quot; + annotation.y + &quot;, &quot;
    this.dragArrow.x1 &#x3D; annotation.startX + annotation.width / 2;
    this.dragArrow.y1 &#x3D; annotation.y - this.visualConfig.draggedArcHeight;

    this.clearSelection();
  }

  /**
   * Metodo che conclude il disegno di una relazione su mouseup al di fuori di un&#x27;annotazione (non crea la relazione)
   * @param event {any} evento di mouseup //TODO valutare rimozione per mancato uso
   * @returns {void}
   */
  endDrawing(event: any) {
    if (!this.dragArrow.isDrawing) {
      return;
    }

    this.dragArrow.isDrawing &#x3D; false;
    this.dragArrow.visibility &#x3D; &quot;hidden&quot;;
    this.dragArrow.m &#x3D; &quot;&quot;
    this.dragArrow.c &#x3D; &quot;&quot;

    this.svg.nativeElement.classList.remove(&#x27;unselectable&#x27;);
    this.clearSelection();
  }

  /**
   * Metodo che conclude il disegno di una relazione su mouseup su un&#x27;annotazione e richiede la creazione della relazione
   * @param event {any} evento di mouseup su una annotazione
   * @param annotation {Annotation} annotazione sulla quale avviene il mouseup
   * @returns {void}
   */
  endDrawingAndCreateRelation(event: any, annotation: Annotation) {
    if (!this.dragArrow.isDrawing) {
      return;
    }

    if (!annotation.id) {
      this.endDrawing(event)
      return;
    }

    let ann &#x3D; this.annotationsRes.annotations.find((a: any) &#x3D;&gt; a.id &#x3D;&#x3D; annotation.id);

    if (!ann) {
      this.endDrawing(event)
      return;
    }

    this.dragArrow.targetAnn &#x3D; ann;

    this.sourceAnn &#x3D; JSON.parse(JSON.stringify(this.dragArrow.sourceAnn));
    this.targetAnn &#x3D; JSON.parse(JSON.stringify(this.dragArrow.targetAnn));

    let sLayer &#x3D; this.layersList.find(l &#x3D;&gt; l.id &#x3D;&#x3D; Number.parseInt(this.sourceAnn.layer));
    let tLayer &#x3D; this.layersList.find(l &#x3D;&gt; l.id &#x3D;&#x3D; Number.parseInt(this.targetAnn.layer));

    if (!sLayer || !tLayer) {
      this.endDrawing(event)
      return;
    }

    this.sourceLayer &#x3D; sLayer;
    this.targetLayer &#x3D; tLayer;

    let relation &#x3D; new Relation();

    relation.name &#x3D; &quot;Relation&quot;;
    relation.srcAnnotationId &#x3D; this.dragArrow.sourceAnn.id;
    relation.srcLayerId &#x3D; Number.parseInt(this.dragArrow.sourceAnn.layer);
    relation.targetAnnotationId &#x3D; this.dragArrow.targetAnn.id;
    relation.targetLayerId &#x3D; Number.parseInt(this.dragArrow.targetAnn.layer);
    relation.textId &#x3D; this.textId;

    this.relation &#x3D; relation;

    this.showEditorAndHideOthers(EditorType.Relation);

    this.endDrawing(event)
  }

  /**
   * Metodo che aggiorna le dimensioni del componente
   * @param newHeight {any} nuova altezza
   */
  updateComponentSize(newHeight: any) {
    this.updateHeight(newHeight);
    this.updateTextEditorSize();
  }

  /**
   * Metodo che aggiorna l&#x27;altezza del pannello e del container del testo
   * @param newHeight {any} nuova altezza
   */
  updateHeight(newHeight: any) {
    this.height &#x3D; newHeight - Math.ceil(this.visualConfig.jsPanelHeaderBarHeight);
    this.textContainerHeight &#x3D; this.height - Math.ceil(this.visualConfig.layerSelectHeightAndMargin + this.visualConfig.paddingAfterTextEditor);
  }

  /**Metodo che aggiorna le dimensioni dell&#x27;editor di testo */
  updateTextEditorSize() {
    this.renderData();
  }

  /**
   * @private
   * Metodo che rimuove la selezione testuale
   */
  private clearSelection() {
    const selection &#x3D; window.getSelection();

    if (selection !&#x3D; null) {
      selection.removeAllRanges();
    }
    // window.getSelection().removeAllRanges();
    // if (selRect !&#x3D; null) {
    //   for(var s&#x3D;0; s !&#x3D; selRect.length; s++) {
    //     selRect[s].parentNode.removeChild(selRect[s]);
    //   }
    //   selRect &#x3D; null;
    //   lastStartRec &#x3D; null;
    //   lastEndRec &#x3D; null;
    // }
  }

  private computeArcOffset(lineTowers: Array&lt;any&gt;, sourceSpanLimit: number, targetSpanLimit: number, lineArcs: Array&lt;any&gt;, startArcX: number, endArcX: number, arcType: string) {
    let spaceFactor &#x3D; 1;
    if (arcType &#x3D;&#x3D; &quot;includedArc&quot;) {
      spaceFactor &#x3D; 2;
    }

    let towerH &#x3D; this.getMaxTowerAroundAnns(lineTowers, sourceSpanLimit, targetSpanLimit);
    let yBaseOffset &#x3D; this.visualConfig.arcSpacing * spaceFactor;
    let yOffset &#x3D; yBaseOffset;

    if (towerH &gt; 0) {
      yOffset +&#x3D; towerH;
    }

    let maxRelationOffset &#x3D; this.getMaxArcOffsetInRange(lineArcs, startArcX, endArcX);
    let adjustOffset &#x3D; yOffset &#x3D;&#x3D; yBaseOffset ? yOffset : 0;
    let newPossibleOffset &#x3D; adjustOffset + maxRelationOffset + this.visualConfig.arcSpacing * 2 / spaceFactor;

    if (maxRelationOffset &gt;&#x3D; 0 &amp;&amp; newPossibleOffset &gt; yOffset) {
      yOffset &#x3D; newPossibleOffset;
    }

    return yOffset;
  }

  private computeStartAndEndXPosition(sourceSpanLimit: number, targetSpanLimit: number, startIndex: number) {
    const startArcX &#x3D; this.getComputedTextLength(this.randomString(sourceSpanLimit - (startIndex || 0)), this.visualConfig.textFont) + this.visualConfig.stdTextOffsetX;
    const endArcX &#x3D; this.getComputedTextLength(this.randomString(targetSpanLimit - (startIndex || 0)), this.visualConfig.textFont) + this.visualConfig.stdTextOffsetX;

    return {
      startArcX: startArcX,
      endArcX: endArcX
    }
  }

  private createLine(auxLineBuilder: any) {
    let startIndex &#x3D; auxLineBuilder.startLine;
    let endIndex &#x3D; auxLineBuilder.startLine + auxLineBuilder.line.text.length;

    let resAnns &#x3D; this.renderAnnotationsForLine(startIndex, endIndex);
    let lineTowers &#x3D; resAnns.lineTowers;
    let lineHighlights &#x3D; resAnns.lineHighLights;

    let resArcs &#x3D; this.renderArcsForLine(startIndex, endIndex, lineTowers);

    let lineHeight &#x3D; this.getStdLineHeight();

    if (lineTowers.length &gt; 0) {
      let towerH &#x3D; this.getMaxTowerPosition(lineTowers)
      lineHeight &#x3D; this.getStdLineHeight() + towerH + this.visualConfig.curlyHeight + 1;
    }

    let arcH &#x3D; 0;

    if (resArcs.length &gt; 0) {
      arcH &#x3D; this.getMaxArcOffset(resArcs) + 2 + this.visualConfig.arcSpacing;
    }

    let newPossibleHeight &#x3D; this.getStdLineHeight() + arcH;

    if (newPossibleHeight &gt; lineHeight) {
      lineHeight &#x3D; newPossibleHeight;
    }

    let yStartLine &#x3D; auxLineBuilder.yStartLine + lineHeight;
    let yText &#x3D; yStartLine - this.visualConfig.spaceAfterTextLine;
    let yAnnotation &#x3D; yText - this.visualConfig.stdTextLineHeight - this.visualConfig.spaceBeforeTextLine - 1;

    lineTowers.forEach((t) &#x3D;&gt; {
      t.tower.forEach((ann: any) &#x3D;&gt; {
        ann.y &#x3D; yAnnotation - this.visualConfig.curlyHeight - 1 - ann.yOffset - t.yTowerOffset;
        ann.textCoordinates.y &#x3D; ann.y + ann.height - 2;
      })

      if (t.tower.length !&#x3D; 0) {
        t.curlyPath &#x3D; this.generateCurlyPath(t.tower[0])
      }
    })

    resArcs.forEach((ar) &#x3D;&gt; {
      let sAnn &#x3D; this.findAnnotationInTowers(ar.relation.sourceAnn.id, lineTowers);
      let tAnn &#x3D; this.findAnnotationInTowers(ar.relation.targetAnn.id, lineTowers);

      switch (ar.type) {
        case &quot;includedArc&quot;: {
          ar.start.y &#x3D; sAnn.y + this.visualConfig.annotationHeight / 2;
          ar.end.y &#x3D; tAnn.y + this.visualConfig.annotationHeight / 2;

          let diffH &#x3D; yAnnotation - Math.max(ar.start.y, ar.end.y)
          ar.yArcOffset &#x3D; yAnnotation + diffH - ar.yArcOffset;

          break;
        }

        case &quot;startedArc&quot;: {
          ar.start.y &#x3D; sAnn.y + this.visualConfig.annotationHeight / 2;
          ar.end.y &#x3D; sAnn.y + this.visualConfig.annotationHeight / 2;

          let diffH &#x3D; yAnnotation - Math.max(ar.start.y, ar.end.y)
          ar.yArcOffset &#x3D; yAnnotation + diffH - ar.yArcOffset;

          break;
        }

        case &quot;endedArc&quot;: {
          ar.start.y &#x3D; tAnn.y + this.visualConfig.annotationHeight / 2;
          ar.end.y &#x3D; tAnn.y + this.visualConfig.annotationHeight / 2;

          let diffH &#x3D; yAnnotation - Math.max(ar.start.y, ar.end.y)
          ar.yArcOffset &#x3D; yAnnotation + diffH - ar.yArcOffset;

          break;
        }

        case &quot;passingArc&quot;: {
          ar.yArcOffset &#x3D; yAnnotation - ar.yArcOffset;
          ar.start.y &#x3D; ar.yArcOffset;
          ar.end.y &#x3D; ar.yArcOffset;
          break;
        }

        default: {
          break;
        }
      }

      let paths &#x3D; this.generateArcPath(ar);

      ar.firstSegmentPath &#x3D; paths.firstSegmentPath;
      ar.secondSegmentPath &#x3D; paths.secondSegmentPath;

      if (ar.circleVisible) {
        ar.circleStartX &#x3D; Math.min(ar.firstSegment.start, ar.secondSegment.end) + Math.abs(ar.firstSegment.start - ar.secondSegment.end) / 2 - this.visualConfig.arcCircleLabelPlaceholderWidth / 2;
        ar.circleStartY &#x3D; ar.yArcOffset + ar.yAnnOffset - this.visualConfig.arcCircleLabelPlaceholderHeight / 2;
        ar.circleHeight &#x3D; this.visualConfig.arcCircleLabelPlaceholderHeight;
        ar.circleWidth &#x3D; this.visualConfig.arcCircleLabelPlaceholderWidth;
      }
      else {
        ar.label.yArcLabel &#x3D; ar.yArcOffset + 3;
      }
    })

    let yHighlight &#x3D; yText - this.visualConfig.stdTextLineHeight + 5;

    lineHighlights.forEach((h) &#x3D;&gt; {
      h.coordinates.y &#x3D; yHighlight;
    })

    let line &#x3D; {
      text: auxLineBuilder.line.text,
      words: auxLineBuilder.line.words,
      height: lineHeight,
      yText: yText,
      x: this.visualConfig.stdTextOffsetX,
      startIndex: auxLineBuilder.startLine,
      endIndex: auxLineBuilder.startLine + auxLineBuilder.line.text.length,
      annotationsTowers: lineTowers,
      yAnnotation: yAnnotation,
      highlights: lineHighlights,
      yHighlight: yHighlight,
      arcs: resArcs
    }

    return line;
  }

  /**
   * @private
   * Metodo che calcola la label da assegnare a un&#x27;annotazione
   * @param layer {Layer|undefined} layer dell&#x27;annotazione
   * @param annotation {any} annotazione della quale creare la label
   * @param maxLengthComputed {number} massima lunghezza possibile della label
   * @returns {string} label dell&#x27;annotazione
   */
  private elaborateAnnotationLabel(layer: Layer | undefined, annotation: any, maxLengthComputed: number) {
    let labelText &#x3D; &quot;&quot;;

    if (!annotation || !annotation.attributes || !annotation.attributes[&#x27;features&#x27;]) {
      labelText &#x3D; layer?.name || layer?.id as unknown as string || &quot;&quot;;
    }
    else {
      //GESTIONE BUG SULLE API CASH
      //non viene restituito un array di feature nel caso ci sia una sola feature
      //ma solo un elemento feature
      if (!Array.isArray(annotation.attributes[&#x27;features&#x27;])) {
        annotation.attributes[&#x27;features&#x27;] &#x3D; new Array(annotation.attributes[&#x27;features&#x27;]);
      }

      let features &#x3D; annotation.attributes[&#x27;features&#x27;];
      let stringsToJoin &#x3D; new Array&lt;string&gt;();
      features.forEach((f: any) &#x3D;&gt; {
        if (f.value &amp;&amp; !f.valueLabel) {
          stringsToJoin.push(f.value as unknown as string);
        }
        else if (f.value &amp;&amp; f.valueLabel) {
          stringsToJoin.push(f.valueLabel as unknown as string);
        }
        else {
          stringsToJoin.push(&quot; &quot;);
        }
      })
      labelText &#x3D; stringsToJoin.join(&quot; | &quot;);
    }

    labelText &#x3D; labelText.trim();

    let labelLength &#x3D; this.getComputedTextLength(labelText, this.visualConfig.annotationFont);
    let oneCharW &#x3D; this.getComputedTextLength(&#x27;.&#x27;, this.visualConfig.annotationFont);

    let counter &#x3D; 0;
    if (labelLength &gt; maxLengthComputed) {
      while (labelLength &gt; maxLengthComputed) {
        counter++;
        labelLength -&#x3D; oneCharW;
      }

      labelText &#x3D; labelText.substring(0, labelText.length - counter - this.visualConfig.labelEllipsisText.length) + this.visualConfig.labelEllipsisText;
    }

    return labelText;
  }

  /**
   * @private
   * Metodo che calcola la label da assegnare a un arco di relazione
   * @param name {string} nome della relazione
   * @returns {{labelText: string, textWidth: number, labelWidth: number}} dati per la label dell&#x27;arco
   */
  private elaborateArcLabel(name: string) {
    let labelText &#x3D; &quot;&quot;;

    if (name.trim().length &gt; this.visualConfig.labelMaxLength) {
      labelText &#x3D; name.trim().substring(0, this.visualConfig.labelMaxLength - this.visualConfig.labelEllipsisText.length) + this.visualConfig.labelEllipsisText;
    }
    else {
      labelText &#x3D; name.trim().substring(0, this.visualConfig.labelMaxLength);
    }

    let textWidth &#x3D; this.getComputedTextLength(labelText, this.visualConfig.arcFont);
    let labelWidth &#x3D; textWidth + this.visualConfig.labelPaddingXAxis * 2;

    return {
      labelText: labelText,
      textWidth: textWidth,
      labelWidth: labelWidth
    };
  }

  private elaborateEndedArc(r: any, lineTowers: Array&lt;any&gt;, sourceSpanLimit: number, targetSpanLimit: number, startIndex: number, lineArcs: Array&lt;any&gt;, isFromLeftToRight: boolean) {
    let arcType &#x3D; &quot;endedArc&quot;;

    // ComputeStartAndEndXPosition
    let xPositionRes &#x3D; this.computeStartAndEndXPosition(sourceSpanLimit, targetSpanLimit, startIndex);
    let startArcX &#x3D; xPositionRes.startArcX;
    let endArcX &#x3D; xPositionRes.endArcX;

    // ElaborateArcLabel
    let arcLabelRes &#x3D; this.elaborateArcLabel(r.relation.name)
    let labelText &#x3D; arcLabelRes.labelText;
    let textWidth &#x3D; arcLabelRes.textWidth;
    let labelWidth &#x3D; arcLabelRes.labelWidth;

    let endSecondSegment &#x3D; endArcX;

    if (isFromLeftToRight) {
      // startFirstSegment +&#x3D; this.visualConfig.arcAngleOffset;
      startArcX &#x3D; this.visualConfig.stdTextOffsetX;
      endSecondSegment -&#x3D; this.visualConfig.arcAngleOffset;
    }
    else {
      // startFirstSegment -&#x3D; this.visualConfig.arcAngleOffset;
      startArcX &#x3D; this.svg.nativeElement.clientWidth;
      endSecondSegment +&#x3D; this.visualConfig.arcAngleOffset;
    }

    let startFirstSegment &#x3D; startArcX;

    let arcCenter &#x3D; Math.abs(endSecondSegment - startFirstSegment) / 2;

    let arcSize &#x3D; Math.abs(endArcX - startArcX);
    let circleVisible &#x3D; labelWidth &gt;&#x3D; arcSize || textWidth &#x3D;&#x3D; 0;

    if (circleVisible) {
      labelWidth &#x3D; this.visualConfig.arcCircleLabelPlaceholderWidth;
    }

    let signChange &#x3D; isFromLeftToRight ? 1 : -1;
    let endFirstSegment &#x3D; startFirstSegment + signChange * (arcCenter - labelWidth / 2);
    let startSecondSegment &#x3D; endFirstSegment + signChange * labelWidth;

    let labelStartX &#x3D; Math.min(startSecondSegment, endFirstSegment);
    let labelEndX &#x3D; Math.max(startSecondSegment, endFirstSegment);
    let startXText &#x3D; startFirstSegment + signChange * arcCenter

    let yOffset &#x3D; this.computeArcOffset(lineTowers, sourceSpanLimit, targetSpanLimit, lineArcs, startArcX, endArcX, arcType);

    // let sAnn &#x3D; this.findAnnotationInTowers(r.sourceAnn.id, lineTowers);
    // let tAnn &#x3D; this.findAnnotationInTowers(r.targetAnn.id, lineTowers);

    // let yAnnOffset &#x3D; Math.max(sAnn.yOffset, tAnn.yOffset);
    // yOffset -&#x3D; yAnnOffset;

    let yLabel &#x3D; yOffset;

    let arc &#x3D; {
      start: {
        x: startArcX,
        y: 0,
      },
      end: {
        x: endArcX,
        y: r.targetTower.yTowerOffset,
      },
      yArcOffset: yOffset,
      yAnnOffset: 0,
      firstSegment: {
        start: startFirstSegment,
        end: endFirstSegment
      },
      secondSegment: {
        start: startSecondSegment,
        end: endSecondSegment
      },
      label: {
        start: labelStartX,
        end: labelEndX,
        width: labelWidth,
        text: labelText,
        startXText: startXText,
        yArcLabel: yLabel
      },
      relation: r,
      relationId: r.relation.id,
      type: arcType,
      circleVisible: circleVisible
    }

    return arc;
  }

  private elaborateInLineArc(r: any, lineTowers: Array&lt;any&gt;, sourceSpanLimit: number, targetSpanLimit: number, startIndex: number, lineArcs: Array&lt;any&gt;, isFromLeftToRight: boolean) {
    let arcType &#x3D; &quot;includedArc&quot;;

    // ComputeStartAndEndXPosition
    let xPositionRes &#x3D; this.computeStartAndEndXPosition(sourceSpanLimit, targetSpanLimit, startIndex);
    let startArcX &#x3D; xPositionRes.startArcX;
    let endArcX &#x3D; xPositionRes.endArcX;

    // ElaborateArcLabel
    let arcLabelRes &#x3D; this.elaborateArcLabel(r.relation.name)
    let labelText &#x3D; arcLabelRes.labelText;
    let textWidth &#x3D; arcLabelRes.textWidth;
    let labelWidth &#x3D; arcLabelRes.labelWidth;

    let startFirstSegment &#x3D; startArcX;
    let endSecondSegment &#x3D; endArcX;

    if (isFromLeftToRight) {
      startFirstSegment +&#x3D; this.visualConfig.arcAngleOffset;
      endSecondSegment -&#x3D; this.visualConfig.arcAngleOffset;
    }
    else {
      startFirstSegment -&#x3D; this.visualConfig.arcAngleOffset;
      endSecondSegment +&#x3D; this.visualConfig.arcAngleOffset;
    }

    let arcCenter &#x3D; Math.abs(endSecondSegment - startFirstSegment) / 2;

    let arcSize &#x3D; Math.abs(endArcX - startArcX);
    let circleVisible &#x3D; labelWidth &gt;&#x3D; arcSize || textWidth &#x3D;&#x3D; 0;

    if (circleVisible) {
      labelWidth &#x3D; this.visualConfig.arcCircleLabelPlaceholderWidth;
    }

    let signChange &#x3D; isFromLeftToRight ? 1 : -1;
    let endFirstSegment &#x3D; startFirstSegment + signChange * (arcCenter - labelWidth / 2);
    let startSecondSegment &#x3D; endFirstSegment + signChange * labelWidth;

    let labelStartX &#x3D; Math.min(startSecondSegment, endFirstSegment);
    let labelEndX &#x3D; Math.max(startSecondSegment, endFirstSegment);
    let startXText &#x3D; startFirstSegment + signChange * arcCenter

    let yOffset &#x3D; this.computeArcOffset(lineTowers, sourceSpanLimit, targetSpanLimit, lineArcs, startArcX, endArcX, arcType);

    // let sAnn &#x3D; this.findAnnotationInTowers(r.sourceAnn.id, lineTowers);
    // let tAnn &#x3D; this.findAnnotationInTowers(r.targetAnn.id, lineTowers);

    // let yAnnOffset &#x3D; Math.max(sAnn.yOffset, tAnn.yOffset);
    // yOffset -&#x3D; yAnnOffset;

    let yLabel &#x3D; yOffset;

    let arc &#x3D; {
      start: {
        x: startArcX,
        y: r.sourceTower.yTowerOffset,
      },
      end: {
        x: endArcX,
        y: r.targetTower.yTowerOffset,
      },
      yArcOffset: yOffset,
      yAnnOffset: 0,
      firstSegment: {
        start: startFirstSegment,
        end: endFirstSegment
      },
      secondSegment: {
        start: startSecondSegment,
        end: endSecondSegment
      },
      label: {
        start: labelStartX,
        end: labelEndX,
        width: labelWidth,
        text: labelText,
        startXText: startXText,
        yArcLabel: yLabel
      },
      relation: r,
      relationId: r.relation.id,
      type: arcType,
      circleVisible: circleVisible
    }

    return arc;
  }

  private elaboratePassingArc(r: any, lineTowers: Array&lt;any&gt;, sourceSpanLimit: number, targetSpanLimit: number, startIndex: number, lineArcs: Array&lt;any&gt;, isFromLeftToRight: boolean) {
    let arcType &#x3D; &quot;passingArc&quot;;

    // ComputeStartAndEndXPosition
    let xPositionRes &#x3D; this.computeStartAndEndXPosition(sourceSpanLimit, targetSpanLimit, startIndex);
    let startArcX &#x3D; xPositionRes.startArcX;
    let endArcX &#x3D; xPositionRes.endArcX;

    // ElaborateArcLabel
    let arcLabelRes &#x3D; this.elaborateArcLabel(r.relation.name)
    let labelText &#x3D; arcLabelRes.labelText;
    let textWidth &#x3D; arcLabelRes.textWidth;
    let labelWidth &#x3D; arcLabelRes.labelWidth;

    if (isFromLeftToRight) {
      startArcX &#x3D; this.visualConfig.stdTextOffsetX;
      endArcX &#x3D; this.svg.nativeElement.clientWidth;
    }
    else {
      startArcX &#x3D; this.svg.nativeElement.clientWidth;
      endArcX &#x3D; this.visualConfig.stdTextOffsetX;
    }

    let startFirstSegment &#x3D; startArcX;
    let endSecondSegment &#x3D; endArcX;

    let arcCenter &#x3D; Math.abs(endSecondSegment - startFirstSegment) / 2;

    let arcSize &#x3D; Math.abs(endArcX - startArcX);
    let circleVisible &#x3D; labelWidth &gt;&#x3D; arcSize || textWidth &#x3D;&#x3D; 0;

    if (circleVisible) {
      labelWidth &#x3D; this.visualConfig.arcCircleLabelPlaceholderWidth;
    }

    let signChange &#x3D; isFromLeftToRight ? 1 : -1;
    let endFirstSegment &#x3D; startFirstSegment + signChange * (arcCenter - labelWidth / 2);
    let startSecondSegment &#x3D; endFirstSegment + signChange * labelWidth;

    let labelStartX &#x3D; Math.min(startSecondSegment, endFirstSegment);
    let labelEndX &#x3D; Math.max(startSecondSegment, endFirstSegment);
    let startXText &#x3D; startFirstSegment + signChange * arcCenter
    startXText &#x3D; startFirstSegment + signChange * arcCenter
    let yOffset &#x3D; this.computeArcOffset(lineTowers, sourceSpanLimit, targetSpanLimit, lineArcs, startArcX, endArcX, arcType);

    // let sAnn &#x3D; this.findAnnotationInTowers(r.sourceAnn.id, lineTowers);
    // let tAnn &#x3D; this.findAnnotationInTowers(r.targetAnn.id, lineTowers);

    // let yAnnOffset &#x3D; Math.max(sAnn.yOffset, tAnn.yOffset);
    // yOffset -&#x3D; yAnnOffset;

    let yLabel &#x3D; yOffset;

    let arc &#x3D; {
      start: {
        x: startArcX,
        y: 0,
      },
      end: {
        x: endArcX,
        y: 0,
      },
      yArcOffset: yOffset,
      yAnnOffset: 0,
      firstSegment: {
        start: startFirstSegment,
        end: endFirstSegment
      },
      secondSegment: {
        start: startSecondSegment,
        end: endSecondSegment
      },
      label: {
        start: labelStartX,
        end: labelEndX,
        width: labelWidth,
        text: labelText,
        startXText: startXText,
        yArcLabel: yLabel
      },
      relation: r,
      relationId: r.relation.id,
      type: arcType,
      circleVisible: circleVisible
    }

    return arc;
  }

  private elaborateStartedArc(r: any, lineTowers: Array&lt;any&gt;, sourceSpanLimit: number, targetSpanLimit: number, startIndex: number, lineArcs: Array&lt;any&gt;, isFromLeftToRight: boolean) {
    let arcType &#x3D; &quot;startedArc&quot;;

    // ComputeStartAndEndXPosition
    let xPositionRes &#x3D; this.computeStartAndEndXPosition(sourceSpanLimit, targetSpanLimit, startIndex);
    let startArcX &#x3D; xPositionRes.startArcX;
    let endArcX &#x3D; xPositionRes.endArcX;

    // ElaborateArcLabel
    let arcLabelRes &#x3D; this.elaborateArcLabel(r.relation.name)
    let labelText &#x3D; arcLabelRes.labelText;
    let textWidth &#x3D; arcLabelRes.textWidth;
    let labelWidth &#x3D; arcLabelRes.labelWidth;

    let startFirstSegment &#x3D; startArcX;

    if (isFromLeftToRight) {
      startFirstSegment +&#x3D; this.visualConfig.arcAngleOffset;
      endArcX &#x3D; this.svg.nativeElement.clientWidth;
      // endSecondSegment -&#x3D; this.visualConfig.arcAngleOffset;
    }
    else {
      startFirstSegment -&#x3D; this.visualConfig.arcAngleOffset;
      endArcX &#x3D; this.visualConfig.stdTextOffsetX;
      // endSecondSegment +&#x3D; this.visualConfig.arcAngleOffset;
    }

    let endSecondSegment &#x3D; endArcX;

    let arcCenter &#x3D; Math.abs(endSecondSegment - startFirstSegment) / 2;

    let arcSize &#x3D; Math.abs(endArcX - startArcX);
    let circleVisible &#x3D; labelWidth &gt;&#x3D; arcSize || textWidth &#x3D;&#x3D; 0;

    if (circleVisible) {
      labelWidth &#x3D; this.visualConfig.arcCircleLabelPlaceholderWidth;
    }

    let signChange &#x3D; isFromLeftToRight ? 1 : -1;
    let endFirstSegment &#x3D; startFirstSegment + signChange * (arcCenter - labelWidth / 2);
    let startSecondSegment &#x3D; endFirstSegment + signChange * labelWidth;

    if (startSecondSegment &lt; this.visualConfig.stdTextOffsetX) {
      startSecondSegment &#x3D; this.visualConfig.stdTextOffsetX;
      endSecondSegment &#x3D; this.visualConfig.stdTextOffsetX - 1;
    }

    let labelStartX &#x3D; Math.min(startSecondSegment, endFirstSegment);
    let labelEndX &#x3D; Math.max(startSecondSegment, endFirstSegment);
    let startXText &#x3D; startFirstSegment + signChange * arcCenter

    let yOffset &#x3D; this.computeArcOffset(lineTowers, sourceSpanLimit, targetSpanLimit, lineArcs, startArcX, endArcX, arcType);

    // let sAnn &#x3D; this.findAnnotationInTowers(r.sourceAnn.id, lineTowers);
    // let tAnn &#x3D; this.findAnnotationInTowers(r.targetAnn.id, lineTowers);

    // let yAnnOffset &#x3D; Math.max(sAnn.yOffset, tAnn.yOffset);
    // yOffset -&#x3D; yAnnOffset;

    let yLabel &#x3D; yOffset;

    let arc &#x3D; {
      start: {
        x: startArcX,
        y: r.sourceTower.yTowerOffset,
      },
      end: {
        x: endArcX,
        y: 0,
      },
      yArcOffset: yOffset,
      yAnnOffset: 0,
      firstSegment: {
        start: startFirstSegment,
        end: endFirstSegment
      },
      secondSegment: {
        start: startSecondSegment,
        end: endSecondSegment
      },
      label: {
        start: labelStartX,
        end: labelEndX,
        width: labelWidth,
        text: labelText,
        startXText: startXText,
        yArcLabel: yLabel
      },
      relation: r,
      relationId: r.relation.id,
      type: arcType,
      circleVisible: circleVisible
    }

    return arc;
  }

  /**
   * @private
   * Metodo che recupera un&#x27;annotazione fra quelle semplificate sulla base dell&#x27;id
   * @param id {number} identificativo dell&#x27;annotazione
   * @returns {any} annotazione estratta dalle annotazioni semplificate
   */
  private findAnnotationById(id: number) {
    return this.simplifiedAnns.find((an: any) &#x3D;&gt; an.id &#x3D;&#x3D; id);
  }

  /**
   * @private
   * Metodo che recupera un&#x27;annotazione dalle tower utilizzando l&#x27;id
   * @param id {number} identificativo numerico dell&#x27;annotazione
   * @param lineTowers {Array&lt;any&gt;} lista ?
   * @returns {any} annotazione corrispondente nella tower ?
   */
  private findAnnotationInTowers(id: number, lineTowers: Array&lt;any&gt;) {
    var t &#x3D; lineTowers.find((t: any) &#x3D;&gt; t.tower.some((ann: any) &#x3D;&gt; ann.id &#x3D;&#x3D; id));

    var ann &#x3D; undefined;

    if (t &amp;&amp; t.tower) {
      ann &#x3D; t.tower.find((ann: any) &#x3D;&gt; ann.id &#x3D;&#x3D; id);
    }

    return ann;
  }

  /**
   * @private
   * Metodo che recupera la tower contenente una data annotazione
   * @param id {number} identificativo numerico dell&#x27;annotazione
   * @param lineTowers {Array&lt;any&gt;} lista ?
   * @returns {any} tower contenente l&#x27;annotazione
   */
  private findTowerByAnnotationId(id: number, lineTowers: Array&lt;any&gt;) {
    var t &#x3D; lineTowers.find((t: any) &#x3D;&gt; t.tower.some((ann: any) &#x3D;&gt; ann.id &#x3D;&#x3D; id));
    return t;
  }

  private generateArcPath(ar: any): { firstSegmentPath: string; secondSegmentPath: string; } {
    let firstArcSegment &#x3D; &quot;&quot;;
    let secondArcSegment &#x3D; &quot;&quot;;

    switch (ar.type) {
      case &quot;includedArc&quot;: {
        let moveToArcStart &#x3D; &quot;M &quot; + ar.start.x + &quot; &quot; + ar.start.y;
        let moveToFirstStart &#x3D; &quot;L &quot; + ar.firstSegment.start + &quot; &quot; + ar.yArcOffset;
        let lineFirstSegment &#x3D; &quot;L &quot; + ar.firstSegment.end + &quot; &quot; + ar.yArcOffset;

        let moveToSecondStart &#x3D; &quot;M &quot; + ar.secondSegment.start + &quot; &quot; + ar.yArcOffset;
        let lineSecondSegment &#x3D; &quot;L &quot; + ar.secondSegment.end + &quot; &quot; + ar.yArcOffset;
        let moveToArcEnd &#x3D; &quot;L &quot; + ar.end.x + &quot; &quot; + ar.end.y;

        firstArcSegment &#x3D; moveToArcStart + &quot; &quot; + moveToFirstStart + &quot; &quot; + lineFirstSegment;
        secondArcSegment &#x3D; moveToSecondStart + &quot; &quot; + lineSecondSegment + &quot; &quot; + moveToArcEnd;
        break;
      }

      case &quot;startedArc&quot;: {
        let moveToArcStart &#x3D; &quot;M &quot; + ar.start.x + &quot; &quot; + ar.start.y;
        let moveToFirstStart &#x3D; &quot;L &quot; + ar.firstSegment.start + &quot; &quot; + ar.yArcOffset;
        let lineFirstSegment &#x3D; &quot;L &quot; + ar.firstSegment.end + &quot; &quot; + ar.yArcOffset;

        let moveToSecondStart &#x3D; &quot;M &quot; + ar.secondSegment.start + &quot; &quot; + ar.yArcOffset;
        let lineSecondSegment &#x3D; &quot;L &quot; + ar.secondSegment.end + &quot; &quot; + ar.yArcOffset;

        firstArcSegment &#x3D; moveToArcStart + &quot; &quot; + moveToFirstStart + &quot; &quot; + lineFirstSegment;
        secondArcSegment &#x3D; moveToSecondStart + &quot; &quot; + lineSecondSegment;
        break;
      }

      case &quot;endedArc&quot;: {
        let moveToFirstStart &#x3D; &quot;M &quot; + ar.firstSegment.start + &quot; &quot; + ar.yArcOffset;
        let lineFirstSegment &#x3D; &quot;L &quot; + ar.firstSegment.end + &quot; &quot; + ar.yArcOffset;

        let moveToSecondStart &#x3D; &quot;M &quot; + ar.secondSegment.start + &quot; &quot; + ar.yArcOffset;
        let lineSecondSegment &#x3D; &quot;L &quot; + ar.secondSegment.end + &quot; &quot; + ar.yArcOffset;
        let moveToArcEnd &#x3D; &quot;L &quot; + ar.end.x + &quot; &quot; + ar.end.y;

        firstArcSegment &#x3D; moveToFirstStart + &quot; &quot; + lineFirstSegment;
        secondArcSegment &#x3D; moveToSecondStart + &quot; &quot; + lineSecondSegment + &quot; &quot; + moveToArcEnd;
        break;
      }

      case &quot;passingArc&quot;: {
        let moveToFirstStart &#x3D; &quot;M &quot; + ar.firstSegment.start + &quot; &quot; + ar.yArcOffset;
        let lineFirstSegment &#x3D; &quot;L &quot; + ar.firstSegment.end + &quot; &quot; + ar.yArcOffset;

        let moveToSecondStart &#x3D; &quot;M &quot; + ar.secondSegment.start + &quot; &quot; + ar.yArcOffset;
        let lineSecondSegment &#x3D; &quot;L &quot; + ar.secondSegment.end + &quot; &quot; + ar.yArcOffset;

        firstArcSegment &#x3D; moveToFirstStart + &quot; &quot; + lineFirstSegment;
        secondArcSegment &#x3D; moveToSecondStart + &quot; &quot; + lineSecondSegment;
        break;
      }

      default: {
        break;
      }
    }

    return {
      firstSegmentPath: firstArcSegment,
      secondSegmentPath: secondArcSegment
    };
  }

  private generateCurlyPath(ann: any): string {
    let y &#x3D; (ann.y + this.visualConfig.annotationHeight + 2)
    let move &#x3D; &quot;M &quot; + ann.startX + &quot; &quot; + (y + this.visualConfig.curlyHeight);
    let x &#x3D; ann.startX + (ann.endX - ann.startX) / 2
    let curve1 &#x3D; &quot;C &quot; + ann.startX + &quot; &quot; + y + &quot;, &quot; + x + &quot; &quot; + (y + this.visualConfig.curlyHeight) + &quot;, &quot; + x + &quot; &quot; + y
    let curve2 &#x3D; &quot;C &quot; + x + &quot; &quot; + (y + this.visualConfig.curlyHeight) + &quot;, &quot; + ann.endX + &quot; &quot; + y + &quot;, &quot; + ann.endX + &quot; &quot; + (y + this.visualConfig.curlyHeight)

    return move + &quot; &quot; + curve1 + &quot; &quot; + curve2;
  }

  /**
   * @private
   * Metodo che dato un id numerico calcola l&#x27;id per la sua evidenziazione
   * @param id {number} identificativo numerico
   * @returns {string} identificativo per evidenziazione
   */
  private generateHighlightId(id: number) {
    return &quot;h-&quot; + id;
  }

  private generateSentnumVerticalLine() {
    let x &#x3D; this.visualConfig.stdSentnumOffsetX + this.visualConfig.spaceBeforeVerticalLine;
    return &quot;M &quot; + x + &quot; 0 L &quot; + x + &quot; &quot; + this.svgHeight;
  }

  private getComputedTextLength(text: string, font: string) {
    const canvas &#x3D; document.createElement(&#x27;canvas&#x27;);
    const context &#x3D; canvas.getContext(&#x27;2d&#x27;);

    if (!context) {
      return text.length;
    }

    context.font &#x3D; font || getComputedStyle(document.body).font;

    return context.measureText(text).width;
  }

  /**
   * @private
   * Metodo che recupera gli indici della selezione sul testo
   * @returns {{startIndex: number, endIndex: number}|undefined} indici iniziale e finale della selezione se presente
   */
  private getCurrentTextSelection() {
    const selection &#x3D; window.getSelection();

    if (selection !&#x3D; null &amp;&amp; selection.rangeCount &gt; 0) {
      const range &#x3D; selection.getRangeAt(0);
      const preSelectionRange &#x3D; range.cloneRange();
      preSelectionRange.selectNodeContents(this.svg.nativeElement);
      preSelectionRange.setEnd(range.startContainer, range.startOffset);
      this.selectionStart &#x3D; [...preSelectionRange.toString()].length;
      this.selectionEnd &#x3D; this.selectionStart + [...range.toString()].length;
    } else {
      this.selectionStart &#x3D; undefined;
      this.selectionEnd &#x3D; undefined;
    }

    if (this.selectionStart &#x3D;&#x3D;&#x3D; undefined || this.selectionEnd &#x3D;&#x3D;&#x3D; undefined || this.selectionStart &gt;&#x3D; this.selectionEnd) {
      return undefined;
    }

    return {
      startIndex: this.selectionStart,
      endIndex: this.selectionEnd,
    };
  }

  private getMaxArcOffset(array: Array&lt;any&gt;) {
    return Math.max(...array.map(o &#x3D;&gt; (o.yArcOffset + o.yAnnOffset)));
  }

  private getMaxArcOffsetInRange(array: Array&lt;any&gt;, startX: number, endX: number) {
    let min &#x3D; Math.min(startX, endX);
    let max &#x3D; Math.max(startX, endX);

    let filteredArcs &#x3D; array.filter((ar: any) &#x3D;&gt; (ar.start.x &gt;&#x3D; min &amp;&amp; ar.end.x &lt;&#x3D; max) ||
      (ar.start.x &lt; min &amp;&amp; ar.end.x &gt;&#x3D; min &amp;&amp; ar.end.x &lt;&#x3D; max) ||
      (ar.start.x &gt; max &amp;&amp; ar.end.x &gt;&#x3D; min &amp;&amp; ar.end.x &lt;&#x3D; max) ||
      (ar.start.x &gt;&#x3D; min &amp;&amp; ar.start.x &lt;&#x3D; max &amp;&amp; ar.end.x &lt; min) ||
      (ar.start.x &gt;&#x3D; min &amp;&amp; ar.start.x &lt;&#x3D; max &amp;&amp; ar.end.x &gt; max) ||
      (ar.start.x &lt; min &amp;&amp; ar.end.x &gt; max));

    return this.getMaxArcOffset(filteredArcs);
  }

  private getMaxTowerPosition(array: any[]) {
    return Math.max(...array.map(o &#x3D;&gt; (o.towerHeight + o.yTowerOffset)))
  }

  private getMaxTowerAroundAnns(lineTowers: Array&lt;any&gt;, start: number, end: number) {
    let filteredTowers &#x3D; lineTowers.filter((t: any) &#x3D;&gt; (t.spanCoordinates.start &gt;&#x3D; start &amp;&amp; t.spanCoordinates.end &lt;&#x3D; end) || (t.spanCoordinates.start &lt; start &amp;&amp; t.spanCoordinates.end &gt; start) || (t.spanCoordinates.start &lt; end &amp;&amp; t.spanCoordinates.end &gt; end));

    return this.getMaxTowerPosition(filteredTowers);
  }

  private getStdLineHeight() {
    return this.visualConfig.spaceBeforeTextLine + this.visualConfig.spaceAfterTextLine + this.visualConfig.stdTextLineHeight;
  }

  /**
   * @private
   * Metodo che data una stringa verifica se è composta da soli spazi
   * @param str {string} stringa da modificare
   * @returns {boolean} definisce se la stringa è composta da soli spazi
   */
  private onlySpaces(str: string) {
    return str.trim().length &#x3D;&#x3D;&#x3D; 0;
  }

  private randomString(length: number) {
    var text &#x3D; &#x27;&#x27;;
    var possible &#x3D; &#x27;ABCDEFGHIJKLMNOPQRSTUVWXYZ&#x27;;
    for (var i &#x3D; 0; i &lt; length; i++) {
      text +&#x3D; possible[Math.floor(Math.random() * possible.length)];
    }
    return text;
  }

  /**
   * @private
   * Metodo che gestisce la renderizzazione delle annotazioni per una line
   * @param startIndex {number} indice iniziale
   * @param endIndex {number} indice finale
   * @returns {{lineTowers: any[], lineHighLights:TextHighlight[]}} dati delle annotazioni per la line
   */
  private renderAnnotationsForLine(startIndex: number, endIndex: number) {
    let lineTowers &#x3D; new Array();
    let lineHighlights &#x3D; new Array&lt;TextHighlight&gt;();

    let localAnns &#x3D; this.simplifiedAnns.filter((a: any) &#x3D;&gt; (a.span.start &gt;&#x3D; (startIndex || 0) &amp;&amp; a.span.end &lt;&#x3D; (endIndex || 0)));

    // Da completare la gestione delle annotazioni su più linee
    // let localAnns &#x3D; this.simplifiedAnns.filter((a: any) &#x3D;&gt;
    //   (a.span.start &gt;&#x3D; (startIndex || 0) &amp;&amp; a.span.end &lt;&#x3D; (endIndex || 0)) ||
    //   (a.span.start &lt; (startIndex || 0) &amp;&amp; a.span.end &gt;&#x3D; (startIndex || 0) &amp;&amp; a.span.end &lt;&#x3D; (endIndex || 0)) ||
    //   (a.span.start &gt;&#x3D; (startIndex || 0) &amp;&amp; a.span.start &lt;&#x3D; (endIndex || 0) &amp;&amp; a.span.end &gt; (endIndex || 0)));

    localAnns.sort((a: any, b: any) &#x3D;&gt; (a.span.end - a.span.start) - (b.span.end - b.span.start));

    let towers &#x3D; this.sortFragmentsIntoTowers(localAnns);

    towers.forEach((t: any) &#x3D;&gt; {
      let annTower &#x3D; new Array();
      let yAnnOffset &#x3D; 0;

      t.anns.forEach((ann: any) &#x3D;&gt; {
        let layer &#x3D; this.layersList.find(l &#x3D;&gt; l.id &#x3D;&#x3D; Number.parseInt(ann.layer));
        let startX &#x3D; this.getComputedTextLength(this.randomString(t.span.start - (startIndex || 0)), this.visualConfig.textFont) + this.visualConfig.stdTextOffsetX;
        let w &#x3D; this.getComputedTextLength(this.randomString(t.span.end - t.span.start), this.visualConfig.textFont);
        let endX &#x3D; startX + w;
        let text &#x3D; this.elaborateAnnotationLabel(layer, ann, w);
        let textAnnLenght &#x3D; this.getComputedTextLength(text, this.visualConfig.annotationFont);

        // console.log(w, startX + (w/2) - (textAnnLenght/2), this.randomString(t.span.end - t.span.start))

        annTower.push({
          color: &#x27;#000&#x27;,
          bgColor: layer?.color,
          borderColor: &#x27;#808080&#x27;,
          text: text,
          textCoordinates: {
            x: Math.ceil(startX + w / 2),
            y: 0
          },
          startX: startX,
          width: w,
          endX: endX,
          height: this.visualConfig.annotationHeight,
          yOffset: yAnnOffset,
          id: ann.id
        })

        yAnnOffset +&#x3D; this.visualConfig.annotationHeight

        lineHighlights.push({
          bgColor: layer?.color,
          coordinates: {
            x: startX - 1,
            y: 0
          },
          height: this.visualConfig.stdTextLineHeight - 2,
          width: w + 2,
          id: this.generateHighlightId(ann.id)
        })
      })

      let minorTowers &#x3D; lineTowers.filter((lt) &#x3D;&gt; (lt.spanCoordinates.start &gt;&#x3D; t.span.start &amp;&amp; lt.spanCoordinates.end &lt;&#x3D; t.span.end) || (lt.spanCoordinates.start &lt; t.span.start &amp;&amp; lt.spanCoordinates.end &gt; t.span.start) || (lt.spanCoordinates.start &lt; t.span.end &amp;&amp; lt.spanCoordinates.end &gt; t.span.end));

      let yOffset &#x3D; 0;

      yOffset &#x3D; minorTowers.reduce((acc: any, o: any) &#x3D;&gt; acc + o.towerHeight, 0);

      let minorTowersGroupedByYtowerOffset &#x3D; minorTowers.reduce((a, { yTowerOffset, ...rest }) &#x3D;&gt; {
        const key &#x3D; &#x60;${yTowerOffset}&#x60;;
        a[key] &#x3D; a[key] || { yTowerOffset, towers: [] };
        a[key][&quot;towers&quot;].push(rest)
        return a;
      }, {});

      let towersGroups &#x3D; [];
      towersGroups &#x3D; Object.values(minorTowersGroupedByYtowerOffset);

      if (towersGroups.length &gt; 0) {
        let maxGroup: any &#x3D; towersGroups.reduce((max: any, tGroup: any) &#x3D;&gt; max.yTowerOffset &gt; tGroup.yTowerOffset ? max : tGroup);
        let higherTowersGroupHeight &#x3D; Math.max(...maxGroup.towers.map((o: any) &#x3D;&gt; (o.towerHeight)))

        yOffset &#x3D; maxGroup.yTowerOffset + higherTowersGroupHeight;
        yOffset +&#x3D; (this.visualConfig.curlyHeight + 3);
      }

      lineTowers.push({
        spanCoordinates: t.span,
        tower: annTower,
        towerHeight: annTower.length * this.visualConfig.annotationHeight,
        yTowerOffset: yOffset
      })
    })

    return {
      lineTowers: lineTowers,
      lineHighLights: lineHighlights
    };
  }

  /**
   * @private
   * Metodo che gestisce la renderizzazione degli archi per una line
   * @param startIndex {number} indice iniziale
   * @param endIndex {number} indice finale
   * @param lineTowers {Array&lt;any&gt;} lista ?
   * @returns {any[]} lista degli archi per la line
   */
  private renderArcsForLine(startIndex: number, endIndex: number, lineTowers: Array&lt;any&gt;) {
    let lineArcs &#x3D; new Array();
    let relationsIncludedInLine &#x3D; new Array();
    let relationsStartedInLine &#x3D; new Array();
    let relationsEndedInLine &#x3D; new Array();
    let relationsPassignThroughLine &#x3D; new Array();

    for (let ar of this.simplifiedArcs) {
      if (!ar.srcAnnotationId || !ar.targetAnnotationId) {
        break;
      }

      let sourceAnn &#x3D; this.findAnnotationById(ar.srcAnnotationId);
      let targetAnn &#x3D; this.findAnnotationById(ar.targetAnnotationId);

      let sourceTower &#x3D; this.findTowerByAnnotationId(ar.srcAnnotationId, lineTowers);
      let targetTower &#x3D; this.findTowerByAnnotationId(ar.targetAnnotationId, lineTowers);

      if (!sourceAnn || !targetAnn) {
        break;
      }

      if (sourceAnn.span.start &gt;&#x3D; startIndex &amp;&amp; sourceAnn.span.start &lt;&#x3D; endIndex &amp;&amp;
        targetAnn.span.end &gt;&#x3D; startIndex &amp;&amp; targetAnn.span.end &lt;&#x3D; endIndex &amp;&amp; sourceTower &amp;&amp; targetTower) {
        relationsIncludedInLine.push({
          relation: ar,
          sourceAnn: sourceAnn,
          targetAnn: targetAnn,
          sourceTower: sourceTower,
          targetTower: targetTower,
          leftToRight: sourceAnn.span.start &lt;&#x3D; targetAnn.span.start
        });
      }

      if (sourceAnn.span.start &gt;&#x3D; startIndex &amp;&amp; sourceAnn.span.start &lt;&#x3D; endIndex &amp;&amp;
        (targetAnn.span.end &lt; startIndex || targetAnn.span.end &gt; endIndex) &amp;&amp; sourceTower) {
        relationsStartedInLine.push({
          relation: ar,
          sourceAnn: sourceAnn,
          targetAnn: targetAnn,
          sourceTower: sourceTower,
          targetTower: targetTower,
          leftToRight: sourceAnn.span.start &lt;&#x3D; targetAnn.span.start
        });
      }

      if (targetAnn.span.end &gt;&#x3D; startIndex &amp;&amp; targetAnn.span.end &lt;&#x3D; endIndex &amp;&amp;
        (sourceAnn.span.start &lt; startIndex || sourceAnn.span.start &gt; endIndex) &amp;&amp; targetTower) {
        relationsEndedInLine.push({
          relation: ar,
          sourceAnn: sourceAnn,
          targetAnn: targetAnn,
          sourceTower: sourceTower,
          targetTower: targetTower,
          leftToRight: sourceAnn.span.start &lt;&#x3D; targetAnn.span.start
        });
      }

      if (((sourceAnn.span.start &lt; startIndex &amp;&amp; sourceAnn.span.start &lt; startIndex &amp;&amp; targetAnn.span.start &gt; endIndex &amp;&amp; targetAnn.span.end &gt; endIndex) ||
        (sourceAnn.span.start &gt; endIndex &amp;&amp; sourceAnn.span.start &gt; endIndex &amp;&amp; targetAnn.span.start &lt; startIndex &amp;&amp; targetAnn.span.end &lt; startIndex))
        &amp;&amp; !sourceTower &amp;&amp; !targetTower) {
        relationsPassignThroughLine.push({
          relation: ar,
          sourceAnn: sourceAnn,
          targetAnn: targetAnn,
          sourceTower: sourceTower,
          targetTower: targetTower,
          leftToRight: sourceAnn.span.start &lt;&#x3D; targetAnn.span.start
        });
      }
    }

    relationsIncludedInLine.sort((a: any, b: any) &#x3D;&gt;
      (Math.abs(a.sourceAnn.span.start - a.targetAnn.span.start) - Math.abs(b.sourceAnn.span.start - b.targetAnn.span.start)) ||
      (Math.min(a.sourceAnn.span.start, a.targetAnn.span.start) - Math.min(b.sourceAnn.span.start, b.targetAnn.span.start))
    );

    relationsStartedInLine.sort((a: any, b: any) &#x3D;&gt; a.leftToRight ?
      a.sourceAnn.span.end - b.sourceAnn.span.end :
      a.sourceAnn.span.start - b.sourceAnn.span.start
    );

    relationsEndedInLine.sort((a: any, b: any) &#x3D;&gt; a.leftToRight ?
      a.targetAnn.span.start - b.targetAnn.span.start :
      a.targetAnn.span.end - b.targetAnn.span.end
    );

    relationsEndedInLine.reverse();

    relationsPassignThroughLine.sort((a: any, b: any) &#x3D;&gt;
      Math.min(Math.abs(a.sourceAnn.span.end - a.targetAnn.span.start), Math.abs(b.sourceAnn.span.end - b.targetAnn.span.start)) ||
      Math.min(Math.min(a.sourceAnn.span.start, a.targetAnn.span.start), Math.min(b.sourceAnn.span.start, b.targetAnn.span.start))
    );

    relationsIncludedInLine.forEach(r &#x3D;&gt; {
      let arc: any;

      arc &#x3D; this.elaborateInLineArc(
        r,
        lineTowers,
        r.leftToRight ? r.sourceAnn.span.end : r.sourceAnn.span.start,
        r.leftToRight ? r.targetAnn.span.start : r.targetAnn.span.end,
        startIndex,
        lineArcs,
        r.leftToRight
      );

      lineArcs.push(arc);
    })

    relationsStartedInLine.forEach(r &#x3D;&gt; {
      let arc: any;

      arc &#x3D; this.elaborateStartedArc(
        r,
        lineTowers,
        r.leftToRight ? r.sourceAnn.span.end : r.sourceAnn.span.start,
        r.leftToRight ? endIndex : startIndex,
        startIndex,
        lineArcs,
        r.leftToRight
      );

      lineArcs.push(arc);
    })

    relationsEndedInLine.forEach(r &#x3D;&gt; {
      let arc: any;

      arc &#x3D; this.elaborateEndedArc(
        r,
        lineTowers,
        r.leftToRight ? startIndex : endIndex,
        r.leftToRight ? r.targetAnn.span.start : r.targetAnn.span.end,
        startIndex,
        lineArcs,
        r.leftToRight
      );

      lineArcs.push(arc);
    })

    relationsPassignThroughLine.forEach(r &#x3D;&gt; {
      let arc: any;

      arc &#x3D; this.elaboratePassingArc(
        r,
        lineTowers,
        r.leftToRight ? startIndex : endIndex,
        r.leftToRight ? r.targetAnn.span.start : r.targetAnn.span.end,
        startIndex,
        lineArcs,
        r.leftToRight
      );

      lineArcs.push(arc);
    })

    return lineArcs;
  }

  /**
   * @private
   * Metodo che gestisce la renderizzazione del testo annotato
   */
  private renderData() {
    this.rows &#x3D; [];

    let rawText &#x3D; JSON.parse(JSON.stringify(this.textRes.text));
    let rawAnns &#x3D; JSON.parse(JSON.stringify(this.annotationsRes.annotations));
    let sentences &#x3D; rawText.split(/(?&lt;&#x3D;[\.!\?])/g);
    let row_id &#x3D; 0;
    let start &#x3D; 0;
    let end &#x3D; rawText.length;

    let width &#x3D; this.svg.nativeElement.clientWidth - 20 - this.visualConfig.stdTextOffsetX;

    let textFont &#x3D; getComputedStyle(document.documentElement).getPropertyValue(&#x27;--text-font-size&#x27;) + &quot; &quot; + getComputedStyle(document.documentElement).getPropertyValue(&#x27;--text-font-family&#x27;);
    this.visualConfig.textFont &#x3D; textFont;

    let annFont &#x3D; getComputedStyle(document.documentElement).getPropertyValue(&#x27;--annotation-font-size&#x27;) + &quot; &quot; + getComputedStyle(document.documentElement).getPropertyValue(&#x27;--annotations-font-family&#x27;)
    this.visualConfig.annotationFont &#x3D; annFont;

    let arcFont &#x3D; getComputedStyle(document.documentElement).getPropertyValue(&#x27;--arc-font-size&#x27;) + &quot; &quot; + getComputedStyle(document.documentElement).getPropertyValue(&#x27;--arc-font-family&#x27;)
    this.visualConfig.arcFont &#x3D; arcFont;

    let linesCounter &#x3D; 0;
    let yStartRow &#x3D; 0;
    let lineBuilder &#x3D; new LineBuilder;

    lineBuilder.yStartLine &#x3D; 0;

    sentences.forEach((s: any, index: number) &#x3D;&gt; {
      let sWidth &#x3D; this.getComputedTextLength(s, this.visualConfig.textFont);

      let sLines &#x3D; new Array&lt;TextLine&gt;();

      let words &#x3D; s.split(/(?&lt;&#x3D;\s)/g);

      lineBuilder.startLine &#x3D; start;

      if (sWidth / width &gt; 1) {
        let wordAddedCounter &#x3D; 0;
        lineBuilder.line &#x3D; new TextLine();
        let lineWidth &#x3D; 0;
        lineBuilder.line.text &#x3D; &quot;&quot;;

        words.forEach((w: any) &#x3D;&gt; {
          let wordWidth &#x3D; this.getComputedTextLength(w, this.visualConfig.textFont);

          if ((lineWidth + wordWidth) &lt;&#x3D; width) {
            lineBuilder.line.text +&#x3D; w;
            wordAddedCounter++;
            lineWidth +&#x3D; wordWidth;

            if (!lineBuilder.line.words) {
              lineBuilder.line.words &#x3D; [];
            }

            lineBuilder.line.words.push(w);
          }
          else {
            let line &#x3D; this.createLine(lineBuilder);
            lineBuilder.yStartLine +&#x3D; line.height;

            sLines.push(JSON.parse(JSON.stringify(line)));

            lineBuilder.startLine +&#x3D; (line.text?.length || 0);
            linesCounter++;

            if (wordAddedCounter !&#x3D; words.length) {
              lineBuilder.line.text &#x3D; &quot;&quot;;
              lineWidth &#x3D; 0;
              lineBuilder.line.words &#x3D; [];
              lineBuilder.line.annotationsTowers &#x3D; [];

              lineBuilder.line.text +&#x3D; w;
              wordAddedCounter++;
              lineWidth +&#x3D; wordWidth;
              lineBuilder.line.words.push(w);
            }
          }

          if (wordAddedCounter &#x3D;&#x3D; words.length) {
            let line &#x3D; this.createLine(lineBuilder);
            lineBuilder.yStartLine +&#x3D; line.height;

            sLines.push(JSON.parse(JSON.stringify(line)));

            lineBuilder.startLine +&#x3D; (line.text?.length || 0);
            linesCounter++;
          }
        })
      }
      else {
        lineBuilder.line &#x3D; new TextLine();
        lineBuilder.line.text &#x3D; s;
        lineBuilder.line.words &#x3D; words;

        let line &#x3D; this.createLine(lineBuilder);
        lineBuilder.yStartLine +&#x3D; line.height;

        sLines.push(JSON.parse(JSON.stringify(line)));

        lineBuilder.startLine +&#x3D; (line.text?.length || 0);
        linesCounter++;
      }

      let sLinesCopy &#x3D; JSON.parse(JSON.stringify(sLines));

      let rowHeight &#x3D; sLinesCopy.reduce((acc: any, o: any) &#x3D;&gt; acc + o.height, 0);

      this.rows?.push({
        id: row_id + 1,
        height: rowHeight,
        lines: sLinesCopy,
        yBG: yStartRow,
        xText: this.visualConfig.stdTextOffsetX,
        yText: sLinesCopy[0].yText - this.visualConfig.spaceAfterTextLine,
        xSentnum: this.visualConfig.stdSentnumOffsetX,
        ySentnum: sLinesCopy[sLinesCopy.length - 1].yText,
        text: s,
        words: words,
        startIndex: start,
        endIndex: start + s.length,
      })

      yStartRow +&#x3D; rowHeight;
      start +&#x3D; s.length;
    })

    this.svgHeight &#x3D; this.rows.reduce((acc, o) &#x3D;&gt; acc + (o.height || 0), 0);

    this.sentnumVerticalLine &#x3D; this.generateSentnumVerticalLine();
  }

  /**
   * @private
   * Metodo che visualizza il tipo di editor richiesto e nasconde eventuali altri editor
   * @param name {EditorType} nome del tipo di editor
   * @returns {void}
   */
  private showEditorAndHideOthers(name: EditorType) {
    switch (name) {
      case EditorType.Annotation: {
        this.showAnnotationEditor &#x3D; true;
        this.showRelationEditor &#x3D; false;
        break;
      }

      case EditorType.Relation: {
        this.showAnnotationEditor &#x3D; false;
        this.showRelationEditor &#x3D; true;
        break;
      }

      default: {
        this.showAnnotationEditor &#x3D; true;
        this.showRelationEditor &#x3D; false;
        return;
      }
    }
  }

  private sortFragmentsIntoTowers(annotations: any[]) {
    let towers &#x3D; annotations.reduce((a, { span, ...rest }) &#x3D;&gt; {
      const key &#x3D; &#x60;${span.start}-${span.end}&#x60;;
      a[key] &#x3D; a[key] || { span, anns: [] };
      a[key][&quot;anns&quot;].push(rest)
      return a;
    }, {});

    return Object.values(towers);
  }
}
</code></pre>
    </div>

    <div class="tab-pane fade " id="c-templateData">
        <pre class="line-numbers"><code class="language-html">&lt;div class&#x3D;&quot;toolbar&quot;&gt;

&lt;/div&gt;

&lt;div class&#x3D;&quot;form-group row mx-0 px-0 justify-content-center&quot;&gt;
  &lt;div class&#x3D;&quot;col-sm-6&quot;&gt;
    &lt;label class&#x3D;&quot;col-sm-2 col-form-label&quot;&gt;Layer&lt;/label&gt;
    &lt;div class&#x3D;&quot;p-fluid&quot;&gt;
      &lt;p-dropdown #layer&#x3D;&quot;ngModel&quot; name&#x3D;&quot;layer&quot; appendTo&#x3D;&quot;body&quot; [(ngModel)]&#x3D;&quot;selectedLayer&quot;
        placeholder&#x3D;&quot;Seleziona un layer&quot; [options]&#x3D;&quot;layerOptions&quot; [filter]&#x3D;&quot;true&quot; [showClear]&#x3D;&quot;true&quot; (onChange)&#x3D;&quot;onChangeLayerSelection($event)&quot;  [required]&#x3D;&quot;true&quot;&gt;
      &lt;/p-dropdown&gt;
      &lt;div *ngIf&#x3D;&quot;layer.invalid &amp;&amp; (layer.touched || layer.dirty)&quot; class&#x3D;&quot;invalid-feedback&quot;&gt;
        &lt;div *ngIf&#x3D;&quot;layer.errors?.[&#x27;required&#x27;]&quot;&gt;
          Seleziona un layer
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div class&#x3D;&quot;col-sm-6&quot;&gt;
    &lt;label class&#x3D;&quot;col-sm-2 col-form-label&quot;&gt;Visibilità&lt;/label&gt;
    &lt;div class&#x3D;&quot;p-fluid&quot;&gt;
      &lt;p-multiSelect [options]&#x3D;&quot;layersList&quot; [(ngModel)]&#x3D;&quot;selectedLayers&quot; defaultLabel&#x3D;&quot;Selezione i layer da visualizzare&quot; optionLabel&#x3D;&quot;name&quot; class&#x3D;&quot;multiselect-custom&quot; display&#x3D;&quot;chip&quot; (onChange)&#x3D;&quot;changeVisibleLayers($event)&quot;&gt;
        &lt;ng-template let-value pTemplate&#x3D;&quot;selectedItems&quot;&gt;
          &lt;div class&#x3D;&quot;layer-item-value&quot; *ngFor&#x3D;&quot;let option of selectedLayers&quot; [ngStyle]&#x3D;&quot;{&#x27;border-color&#x27;: option.color}&quot;&gt;
            &lt;span class&#x3D;&quot;pe-2&quot;&gt;
              &lt;i class&#x3D;&quot;fa-solid fa-palette&quot; [ngStyle]&#x3D;&quot;{&#x27;color&#x27;: option.color}&quot; style&#x3D;&quot;font-size: 1.5rem;&quot;&gt;&lt;/i&gt;
            &lt;/span&gt;
            &lt;span&gt;
              {{ option.name }}
            &lt;/span&gt;
          &lt;/div&gt;
          &lt;div *ngIf&#x3D;&quot;!selectedLayers || selectedLayers.length &#x3D;&#x3D;&#x3D; 0&quot;&gt;
            Selezione i layer da visualizzare
          &lt;/div&gt;
        &lt;/ng-template&gt;
        &lt;ng-template let-layer pTemplate&#x3D;&quot;item&quot;&gt;
          &lt;div class&#x3D;&quot;country-item&quot;&gt;
            &lt;span class&#x3D;&quot;pe-2&quot;&gt;
              &lt;i class&#x3D;&quot;fa-solid fa-palette&quot; [ngStyle]&#x3D;&quot;{&#x27;color&#x27;: layer.color}&quot; style&#x3D;&quot;font-size: 1.5rem;&quot;&gt;&lt;/i&gt;
            &lt;/span&gt;
            &lt;span&gt;
              {{ layer.name }}
            &lt;/span&gt;
          &lt;/div&gt;
        &lt;/ng-template&gt;
      &lt;/p-multiSelect&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;div class&#x3D;&quot;row mx-0&quot;&gt;
  &lt;div class&#x3D;&quot;col-8&quot; &gt;
    &lt;div class&#x3D;&quot;text-container&quot; [ngStyle]&#x3D;&quot;{&#x27;height.px&#x27;: textContainerHeight}&quot;&gt;
      &lt;div id&#x3D;&quot;svg&quot; [ngStyle]&#x3D;&quot;{&#x27;height.px&#x27;: svgHeight}&quot; #svg (mousemove)&#x3D;&quot;mouseMoved($event)&quot; (mouseup)&#x3D;&quot;endDrawing($event)&quot; &gt;
        &lt;svg class&#x3D;&quot;text-editor&quot; [attr.height]&#x3D;&quot;svgHeight&quot;&gt;
          &lt;defs&gt;
            &lt;marker id&#x3D;&quot;drag_arrow&quot; refY&#x3D;&quot;2.5&quot; markerWidth&#x3D;&quot;5&quot; markerHeight&#x3D;&quot;5&quot; orient&#x3D;&quot;auto-start-reverse&quot; markerUnits&#x3D;&quot;strokeWidth&quot; class&#x3D;&quot;drag_fill&quot;&gt;
              &lt;polyline points&#x3D;&quot;0,0 5,2.5 0,5 0.2,2.5&quot;/&gt;
            &lt;/marker&gt;
            &lt;marker id&#x3D;&quot;arrow_triangle_5_black&quot; refX&#x3D;&quot;5&quot; refY&#x3D;&quot;2.5&quot; markerWidth&#x3D;&quot;5&quot; markerHeight&#x3D;&quot;5&quot; orient&#x3D;&quot;auto&quot; markerUnits&#x3D;&quot;strokeWidth&quot; fill&#x3D;&quot;black&quot;&gt;
              &lt;polyline points&#x3D;&quot;0,0 5,2.5 0,5 0.4166666666666667,2.5&quot;/&gt;
            &lt;/marker&gt;
            &lt;!-- &lt;marker id&#x3D;&quot;drag_arrow&quot; refX&#x3D;&quot;5&quot; refY&#x3D;&quot;2.5&quot; markerWidth&#x3D;&quot;5&quot; markerHeight&#x3D;&quot;5&quot; orient&#x3D;&quot;auto-start-reverse&quot; markerUnits&#x3D;&quot;strokeWidth&quot; class&#x3D;&quot;drag_fill&quot;&gt;
              &lt;polyline points&#x3D;&quot;0,0 5,2.5 0,5 0.2,2.5&quot;/&gt;
            &lt;/marker&gt; --&gt;
            &lt;marker&gt;&lt;/marker&gt;
          &lt;/defs&gt;
          &lt;g class&#x3D;&quot;background&quot;&gt;
            &lt;rect *ngFor&#x3D;&quot;let row of rows; index as i&quot; class&#x3D;&quot;background&quot; [ngClass]&#x3D;&quot;{&#x27;background0&#x27;: i%2, &#x27;background1 bordered&#x27;: !(i%2)}&quot; [attr.height]&#x3D;&quot;row.height&quot; [attr.y]&#x3D;&quot;row.yBG&quot;&gt;&lt;/rect&gt;
          &lt;/g&gt;
          &lt;g class&#x3D;&quot;glow&quot;&gt;

          &lt;/g&gt;
          &lt;g class&#x3D;&quot;highlight&quot;&gt;
            &lt;g *ngFor&#x3D;&quot;let row of rows&quot;&gt;
              &lt;g *ngFor&#x3D;&quot;let line of row.lines;&quot; [attr.y]&#x3D;&quot;line.yHighlight&quot; [attr.x]&#x3D;&quot;line.x&quot; [attr.height]&#x3D;&quot;line.height! + 4&quot; class&#x3D;&quot;span&quot;&gt;
                &lt;g *ngFor&#x3D;&quot;let h of line.highlights&quot;&gt;
                  &lt;rect [attr.id]&#x3D;&quot;h.id&quot; [attr.x]&#x3D;&quot;h.coordinates.x&quot; [attr.y]&#x3D;&quot;h.coordinates.y&quot; [attr.height]&#x3D;&quot;h.height&quot; [attr.width]&#x3D;&quot;h.width&quot; [attr.fill]&#x3D;&quot;h.bgColor&quot; [attr.stroke]&#x3D;&quot;h.bgColor&quot; stroke-width&#x3D;&quot;0px&quot; rx&#x3D;&quot;3px&quot; ry&#x3D;&quot;3px&quot; stroke-linejoin&#x3D;&quot;round&quot;&gt;&lt;/rect&gt;
                &lt;/g&gt;
              &lt;/g&gt;
            &lt;/g&gt;
          &lt;/g&gt;
          &lt;g class&#x3D;&quot;text&quot;&gt;
            &lt;text *ngFor&#x3D;&quot;let row of rows; index as i&quot; [attr.y]&#x3D;&quot;row.yText&quot; [attr.x]&#x3D;&quot;row.xText&quot; [attr.height]&#x3D;&quot;row.height&quot; (mouseup)&#x3D;&quot;onSelectionChange($event)&quot; style&#x3D;&quot;white-space: pre;&quot; [attr.start-index]&#x3D;&quot;row.startIndex&quot; [attr.end-index]&#x3D;&quot;row.endIndex&quot;&gt;
              &lt;tspan *ngFor&#x3D;&quot;let line of row.lines;&quot; [attr.y]&#x3D;&quot;line.yText&quot; [attr.x]&#x3D;&quot;line.x&quot; [attr.height]&#x3D;&quot;line.height&quot; style&#x3D;&quot;white-space: pre;&quot; [attr.start-index]&#x3D;&quot;line.startIndex&quot; [attr.end-index]&#x3D;&quot;line.endIndex&quot;&gt;
                &lt;tspan *ngFor&#x3D;&quot;let w of line.words&quot; [attr.y]&#x3D;&quot;line.yText&quot; style&#x3D;&quot;white-space: pre;&quot;&gt;{{w}}&lt;/tspan&gt;
              &lt;/tspan&gt;
            &lt;/text&gt;
            &lt;!-- &lt;text *ngFor&#x3D;&quot;let row of rows; index as i&quot; [attr.y]&#x3D;&quot;row.yText&quot; [attr.x]&#x3D;&quot;37&quot; [attr.height]&#x3D;&quot;row.height&quot; (mouseup)&#x3D;&quot;selectionchange($event)&quot;&gt;{{row.text}}&lt;/text&gt; --&gt;
          &lt;/g&gt;
          &lt;!-- Generare n gruppi per archi e annotazioni --&gt;
          &lt;g *ngFor&#x3D;&quot;let row of rows&quot;&gt;
            &lt;g *ngFor&#x3D;&quot;let line of row.lines;&quot; [attr.y]&#x3D;&quot;line.yAnnotation&quot; [attr.x]&#x3D;&quot;line.x&quot; class&#x3D;&quot;arc&quot;&gt;
              &lt;g *ngFor&#x3D;&quot;let arc of line.arcs&quot;&gt;
                &lt;rect *ngIf&#x3D;&quot;arc.circleVisible; else elseBlock&quot; [attr.x]&#x3D;&quot;arc.circleStartX&quot; [attr.y]&#x3D;&quot;arc.circleStartY&quot; [attr.height]&#x3D;&quot;arc.circleHeight&quot; [attr.width]&#x3D;&quot;arc.circleWidth&quot; fill&#x3D;&quot;black&quot; stroke&#x3D;&quot;black&quot; stroke-width&#x3D;&quot;0.5px&quot; rx&#x3D;&quot;3px&quot; ry&#x3D;&quot;3px&quot; (click)&#x3D;&quot;openRelation(arc.relationId)&quot; (mouseenter)&#x3D;&quot;overEnterRelation(arc.relationId)&quot; (mouseleave)&#x3D;&quot;overLeaveRelation(arc.relationId)&quot;&gt;&lt;/rect&gt;
                &lt;ng-template #elseBlock&gt;
                  &lt;text [attr.x]&#x3D;&quot;arc.label.startXText&quot; [attr.y]&#x3D;&quot;arc.label.yArcLabel&quot; (click)&#x3D;&quot;openRelation(arc.relationId)&quot; (mouseenter)&#x3D;&quot;overEnterRelation(arc.relationId)&quot; (mouseleave)&#x3D;&quot;overLeaveRelation(arc.relationId)&quot;&gt;{{arc.label.text}}&lt;/text&gt;
                &lt;/ng-template&gt;
                &lt;path [attr.d]&#x3D;&quot;arc.firstSegmentPath&quot; style&#x3D;&quot;stroke: black&quot; stroke-dasharray&#x3D;&quot;,&quot; [attr.data-relation-id]&#x3D;&quot;arc.relationId&quot; /&gt;
                &lt;path [attr.d]&#x3D;&quot;arc.secondSegmentPath&quot; marker-end&#x3D;&quot;url(#arrow_triangle_5_black)&quot; style&#x3D;&quot;stroke: black&quot; stroke-dasharray&#x3D;&quot;,&quot; [attr.data-relation-id]&#x3D;&quot;arc.relationId&quot; /&gt;
              &lt;/g&gt;
            &lt;/g&gt;
          &lt;/g&gt;
          &lt;g *ngFor&#x3D;&quot;let row of rows&quot;&gt;
            &lt;g *ngFor&#x3D;&quot;let line of row.lines;&quot; [attr.y]&#x3D;&quot;line.yAnnotation&quot; [attr.x]&#x3D;&quot;line.x&quot; class&#x3D;&quot;span&quot;&gt;
              &lt;g *ngFor&#x3D;&quot;let anns of line.annotationsTowers&quot;&gt;
                &lt;g *ngFor&#x3D;&quot;let a of anns.tower&quot;&gt;
                  &lt;rect [attr.x]&#x3D;&quot;a.startX&quot; [attr.y]&#x3D;&quot;a.y&quot; [attr.height]&#x3D;&quot;a.height&quot; [attr.width]&#x3D;&quot;a.width&quot; [attr.fill]&#x3D;&quot;a.bgColor&quot; [attr.stroke]&#x3D;&quot;a.borderColor&quot; [attr.id]&#x3D;&quot;a.id&quot; (click)&#x3D;&quot;openAnnotation(a.id)&quot; stroke-width&#x3D;&quot;0.5px&quot; rx&#x3D;&quot;3px&quot; ry&#x3D;&quot;3px&quot; (mousedown)&#x3D;&quot;startDrawing($event, a)&quot; (mouseup)&#x3D;&quot;endDrawingAndCreateRelation($event, a)&quot;&gt;&lt;/rect&gt;
                  &lt;text [attr.x]&#x3D;&quot;a.textCoordinates.x&quot; [attr.y]&#x3D;&quot;a.textCoordinates.y&quot; [ngStyle]&#x3D;&quot;{&#x27;color&#x27;: a.color}&quot;&gt;{{a.text}}&lt;/text&gt;
                &lt;/g&gt;
                &lt;path [attr.d]&#x3D;&quot;anns.curlyPath&quot; stroke-width&#x3D;&quot;1px&quot; stroke&#x3D;&quot;gray&quot; class&#x3D;&quot;curly&quot;&gt;&lt;/path&gt;
              &lt;/g&gt;
            &lt;/g&gt;
          &lt;/g&gt;
          &lt;!-- --&gt;
          &lt;path marker-end&#x3D;&quot;url(#drag_arrow)&quot; class&#x3D;&quot;drag_stroke&quot; fill&#x3D;&quot;none&quot; [attr.visibility]&#x3D;&quot;dragArrow.visibility&quot; [attr.d]&#x3D;&quot;dragArrow.m + dragArrow.c&quot; /&gt;
          &lt;g class&#x3D;&quot;sentnum unselectable&quot;&gt;
            &lt;text *ngFor&#x3D;&quot;let row of rows; index as i&quot; [attr.y]&#x3D;&quot;row.ySentnum&quot; [attr.x]&#x3D;&quot;row.xSentnum&quot; [attr.height]&#x3D;&quot;row.height&quot;&gt;
              {{i+1}}
            &lt;/text&gt;
            &lt;path [attr.d]&#x3D;&quot;sentnumVerticalLine&quot;&gt;&lt;/path&gt;
          &lt;/g&gt;
        &lt;/svg&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div class&#x3D;&quot;col-4 ps-0&quot;&gt;
    &lt;div class&#x3D;&quot;editor-container&quot; [ngStyle]&#x3D;&quot;{&#x27;height.px&#x27;: textContainerHeight}&quot;&gt;
      &lt;app-annotation-editor *ngIf&#x3D;&quot;showAnnotationEditor&quot; [annotationModel]&#x3D;&quot;annotation&quot; [fileId]&#x3D;&quot;textId&quot;
        (onSave)&#x3D;&quot;onAnnotationSaved()&quot;
        (onDelete)&#x3D;&quot;onAnnotationDeleted()&quot;
        (onCancel)&#x3D;&quot;onAnnotationCancel()&quot;&gt;
      &lt;/app-annotation-editor&gt;
      &lt;app-relation-editor *ngIf&#x3D;&quot;showRelationEditor&quot;
        [relationModel]&#x3D;&quot;relation&quot;
        [sourceAnn]&#x3D;&quot;sourceAnn&quot;
        [targetAnn]&#x3D;&quot;targetAnn&quot;
        [sourceLayer]&#x3D;&quot;sourceLayer&quot;
        [targetLayer]&#x3D;&quot;targetLayer&quot;
        (onSave)&#x3D;&quot;onRelationSaved()&quot;
        (onDelete)&#x3D;&quot;onRelationDeleted()&quot;
        (onCancel)&#x3D;&quot;onRelationCancel()&quot;&gt;
      &lt;/app-relation-editor&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
</code></pre>
    </div>

    <div class="tab-pane fade " id="c-styleData">
                <p class="comment">
                    <code>./workspace-text-window.component.scss</code>
                </p>
                <pre class="line-numbers"><code class="language-scss">@import &quot;../../../../assets/scss/variables&quot;;

.css-serial {
  counter-reset: serial-number;

  tr td {
    padding: .5rem 1rem;

    &amp;:first-child {
      &amp;::before {
        counter-increment: serial-number;
        content: counter(serial-number);
        display: flex;
        flex-wrap: wrap;
        align-content: center;
      }

      vertical-align: bottom;
      padding-right: .5rem;
    }

    &amp;:last-child {
      padding-left: .5rem;
    }
  }
}

.arc text {
  font-size: var(--arc-font-size);
  text-anchor: middle;
  font-family: var(--arc-font-family);
}

.background0 {
  stroke: none;
  fill: #ffffff;
}

.background1 {
  stroke: none;
  fill: #eeeeee;
}

.drag_stroke {
  stroke: black;
}

.editor-container {
  overflow-y: auto;
  border: 1px solid $redPalette7;
}

.filtered {
  filter: drop-shadow(1px 1px 1px rgba(0,0,0,.8));
}

.highlight rect {
  opacity: 0.3;

  &amp;.over {
    opacity: 0.6;
  }
}

.span path.curly {
  /* stroke: grey; */
  stroke-width: 0.5;
}

.span path, .arc path {
  fill: none;
}

.span text {
  font-size: var(--annotation-font-size);
  text-anchor: middle;
  font-family: var(--annotation-font-family);
  pointer-events: none;
}

.text-container {
  overflow-y: scroll;
  border: 1px solid $redPalette7;
}

.text-editor {
  width: 100%;

  rect.background {
    width: 100%;
  }
}

.sentnum {
  path {
    stroke: #999999;
    stroke-width: 1px;
  }

  text {
    fill: #999999;
    text-anchor: end;
  }
}

.text {
  font-family: var(--text-font-family);
  font-size: var(--text-font-size);
}

.text-container {
  overflow-y: scroll;
  border: 1px solid $redPalette7;
}

.text-editor {
  width: 100%;

  rect.background {
    width: 100%;
  }
}

.unselectable {
  -moz-user-select: -moz-none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -o-user-select: none;
  user-select: none;
  cursor: default;
}

path {
  pointer-events: none;
}

:host ::ng-deep .multiselect-custom {
  .p-multiselect-label {
    padding-top: .5rem;
    padding-bottom: .5rem;
  }

  .layer-item-value {
    border-style: solid;
    border-width: 1px;
    padding: .25rem .5rem;
    border-radius: 3px;
    display: inline-flex;
    margin-right: .5rem;
  }

  .layer-placeholder {
    padding: 0.25rem;
  }
}

:host ::ng-deep {
  @media screen and (max-width: 640px) {
    .p-multiselect {
      width: 100%;
    }
  }
}

</code></pre>
    </div>

    <div class="tab-pane fade " id="c-tree">
        <div id="tree-container"></div>
        <div class="tree-legend">
            <div class="title">
                <b>Legend</b>
            </div>
            <div>
                <div class="color htmlelement"></div><span>Html element</span>
            </div>
            <div>
                <div class="color component"></div><span>Component</span>
            </div>
            <div>
                <div class="color directive"></div><span>Html element with directive</span>
            </div>
        </div>
    </div>

    
</div>

<script src="../js/libs/vis.min.js"></script>
<script src="../js/libs/htmlparser.js"></script>
<script src="../js/libs/deep-iterator.js"></script>
<script>
        var COMPONENT_TEMPLATE = '<div><div class="toolbar"></div><div class="form-group row mx-0 px-0 justify-content-center">  <div class="col-sm-6">    <label class="col-sm-2 col-form-label">Layer</label>    <div class="p-fluid">      <p-dropdown #layer="ngModel" name="layer" appendTo="body" [(ngModel)]="selectedLayer"        placeholder="Seleziona un layer" [options]="layerOptions" [filter]="true" [showClear]="true" (onChange)="onChangeLayerSelection($event)"  [required]="true">      </p-dropdown>      <div *ngIf="layer.invalid && (layer.touched || layer.dirty)" class="invalid-feedback">        <div *ngIf="layer.errors?.[\'required\']">          Seleziona un layer        </div>      </div>    </div>  </div>  <div class="col-sm-6">    <label class="col-sm-2 col-form-label">Visibilità</label>    <div class="p-fluid">      <p-multiSelect [options]="layersList" [(ngModel)]="selectedLayers" defaultLabel="Selezione i layer da visualizzare" optionLabel="name" class="multiselect-custom" display="chip" (onChange)="changeVisibleLayers($event)">        <ng-template let-value pTemplate="selectedItems">          <div class="layer-item-value" *ngFor="let option of selectedLayers" [ngStyle]="{\'border-color\': option.color}">            <span class="pe-2">              <i class="fa-solid fa-palette" [ngStyle]="{\'color\': option.color}" style="font-size: 1.5rem;"></i>            </span>            <span>              {{ option.name }}            </span>          </div>          <div *ngIf="!selectedLayers || selectedLayers.length === 0">            Selezione i layer da visualizzare          </div>        </ng-template>        <ng-template let-layer pTemplate="item">          <div class="country-item">            <span class="pe-2">              <i class="fa-solid fa-palette" [ngStyle]="{\'color\': layer.color}" style="font-size: 1.5rem;"></i>            </span>            <span>              {{ layer.name }}            </span>          </div>        </ng-template>      </p-multiSelect>    </div>  </div></div><div class="row mx-0">  <div class="col-8" >    <div class="text-container" [ngStyle]="{\'height.px\': textContainerHeight}">      <div id="svg" [ngStyle]="{\'height.px\': svgHeight}" #svg (mousemove)="mouseMoved($event)" (mouseup)="endDrawing($event)" >        <svg class="text-editor" [attr.height]="svgHeight">          <defs>            <marker id="drag_arrow" refY="2.5" markerWidth="5" markerHeight="5" orient="auto-start-reverse" markerUnits="strokeWidth" class="drag_fill">              <polyline points="0,0 5,2.5 0,5 0.2,2.5"/>            </marker>            <marker id="arrow_triangle_5_black" refX="5" refY="2.5" markerWidth="5" markerHeight="5" orient="auto" markerUnits="strokeWidth" fill="black">              <polyline points="0,0 5,2.5 0,5 0.4166666666666667,2.5"/>            </marker>            <!-- <marker id="drag_arrow" refX="5" refY="2.5" markerWidth="5" markerHeight="5" orient="auto-start-reverse" markerUnits="strokeWidth" class="drag_fill">              <polyline points="0,0 5,2.5 0,5 0.2,2.5"/>            </marker> -->            <marker></marker>          </defs>          <g class="background">            <rect *ngFor="let row of rows; index as i" class="background" [ngClass]="{\'background0\': i%2, \'background1 bordered\': !(i%2)}" [attr.height]="row.height" [attr.y]="row.yBG"></rect>          </g>          <g class="glow">          </g>          <g class="highlight">            <g *ngFor="let row of rows">              <g *ngFor="let line of row.lines;" [attr.y]="line.yHighlight" [attr.x]="line.x" [attr.height]="line.height! + 4" class="span">                <g *ngFor="let h of line.highlights">                  <rect [attr.id]="h.id" [attr.x]="h.coordinates.x" [attr.y]="h.coordinates.y" [attr.height]="h.height" [attr.width]="h.width" [attr.fill]="h.bgColor" [attr.stroke]="h.bgColor" stroke-width="0px" rx="3px" ry="3px" stroke-linejoin="round"></rect>                </g>              </g>            </g>          </g>          <g class="text">            <text *ngFor="let row of rows; index as i" [attr.y]="row.yText" [attr.x]="row.xText" [attr.height]="row.height" (mouseup)="onSelectionChange($event)" style="white-space: pre;" [attr.start-index]="row.startIndex" [attr.end-index]="row.endIndex">              <tspan *ngFor="let line of row.lines;" [attr.y]="line.yText" [attr.x]="line.x" [attr.height]="line.height" style="white-space: pre;" [attr.start-index]="line.startIndex" [attr.end-index]="line.endIndex">                <tspan *ngFor="let w of line.words" [attr.y]="line.yText" style="white-space: pre;">{{w}}</tspan>              </tspan>            </text>            <!-- <text *ngFor="let row of rows; index as i" [attr.y]="row.yText" [attr.x]="37" [attr.height]="row.height" (mouseup)="selectionchange($event)">{{row.text}}</text> -->          </g>          <!-- Generare n gruppi per archi e annotazioni -->          <g *ngFor="let row of rows">            <g *ngFor="let line of row.lines;" [attr.y]="line.yAnnotation" [attr.x]="line.x" class="arc">              <g *ngFor="let arc of line.arcs">                <rect *ngIf="arc.circleVisible; else elseBlock" [attr.x]="arc.circleStartX" [attr.y]="arc.circleStartY" [attr.height]="arc.circleHeight" [attr.width]="arc.circleWidth" fill="black" stroke="black" stroke-width="0.5px" rx="3px" ry="3px" (click)="openRelation(arc.relationId)" (mouseenter)="overEnterRelation(arc.relationId)" (mouseleave)="overLeaveRelation(arc.relationId)"></rect>                <ng-template #elseBlock>                  <text [attr.x]="arc.label.startXText" [attr.y]="arc.label.yArcLabel" (click)="openRelation(arc.relationId)" (mouseenter)="overEnterRelation(arc.relationId)" (mouseleave)="overLeaveRelation(arc.relationId)">{{arc.label.text}}</text>                </ng-template>                <path [attr.d]="arc.firstSegmentPath" style="stroke: black" stroke-dasharray="," [attr.data-relation-id]="arc.relationId" />                <path [attr.d]="arc.secondSegmentPath" marker-end="url(#arrow_triangle_5_black)" style="stroke: black" stroke-dasharray="," [attr.data-relation-id]="arc.relationId" />              </g>            </g>          </g>          <g *ngFor="let row of rows">            <g *ngFor="let line of row.lines;" [attr.y]="line.yAnnotation" [attr.x]="line.x" class="span">              <g *ngFor="let anns of line.annotationsTowers">                <g *ngFor="let a of anns.tower">                  <rect [attr.x]="a.startX" [attr.y]="a.y" [attr.height]="a.height" [attr.width]="a.width" [attr.fill]="a.bgColor" [attr.stroke]="a.borderColor" [attr.id]="a.id" (click)="openAnnotation(a.id)" stroke-width="0.5px" rx="3px" ry="3px" (mousedown)="startDrawing($event, a)" (mouseup)="endDrawingAndCreateRelation($event, a)"></rect>                  <text [attr.x]="a.textCoordinates.x" [attr.y]="a.textCoordinates.y" [ngStyle]="{\'color\': a.color}">{{a.text}}</text>                </g>                <path [attr.d]="anns.curlyPath" stroke-width="1px" stroke="gray" class="curly"></path>              </g>            </g>          </g>          <!-- -->          <path marker-end="url(#drag_arrow)" class="drag_stroke" fill="none" [attr.visibility]="dragArrow.visibility" [attr.d]="dragArrow.m + dragArrow.c" />          <g class="sentnum unselectable">            <text *ngFor="let row of rows; index as i" [attr.y]="row.ySentnum" [attr.x]="row.xSentnum" [attr.height]="row.height">              {{i+1}}            </text>            <path [attr.d]="sentnumVerticalLine"></path>          </g>        </svg>      </div>    </div>  </div>  <div class="col-4 ps-0">    <div class="editor-container" [ngStyle]="{\'height.px\': textContainerHeight}">      <app-annotation-editor *ngIf="showAnnotationEditor" [annotationModel]="annotation" [fileId]="textId"        (onSave)="onAnnotationSaved()"        (onDelete)="onAnnotationDeleted()"        (onCancel)="onAnnotationCancel()">      </app-annotation-editor>      <app-relation-editor *ngIf="showRelationEditor"        [relationModel]="relation"        [sourceAnn]="sourceAnn"        [targetAnn]="targetAnn"        [sourceLayer]="sourceLayer"        [targetLayer]="targetLayer"        (onSave)="onRelationSaved()"        (onDelete)="onRelationDeleted()"        (onCancel)="onRelationCancel()">      </app-relation-editor>    </div>  </div></div></div>'
    var COMPONENTS = [{'name': 'AnnotationEditorComponent', 'selector': 'app-annotation-editor'},{'name': 'AppComponent', 'selector': 'app-root'},{'name': 'FooterComponent', 'selector': 'app-footer'},{'name': 'FormEditorComponent', 'selector': 'app-form-editor'},{'name': 'HeaderComponent', 'selector': 'app-header'},{'name': 'IconAddFolderComponent', 'selector': 'app-icon-add-folder'},{'name': 'IconAuthorComponent', 'selector': 'app-icon-author'},{'name': 'IconBaseComponent', 'selector': 'app-icon-base'},{'name': 'IconLayerGroupComponent', 'selector': 'app-icon-layer-group'},{'name': 'IconLockComponent', 'selector': 'app-icon-lock'},{'name': 'IconMoveComponent', 'selector': 'app-icon-move'},{'name': 'IconNoteComponent', 'selector': 'app-icon-note'},{'name': 'IconRenameComponent', 'selector': 'app-icon-rename'},{'name': 'IconUploadFileComponent', 'selector': 'app-icon-upload-file'},{'name': 'LayersListComponent', 'selector': 'app-layers-list'},{'name': 'LayersViewComponent', 'selector': 'app-layers-view'},{'name': 'LexicalEntryEditorComponent', 'selector': 'app-lexical-entry-editor'},{'name': 'LoaderComponent', 'selector': 'app-loader'},{'name': 'MainLayoutComponent', 'selector': 'app-main-layout'},{'name': 'PopupDeleteItemComponent', 'selector': 'app-popup-delete-item'},{'name': 'RelationEditorComponent', 'selector': 'app-relation-editor'},{'name': 'SenseEditorComponent', 'selector': 'app-sense-editor'},{'name': 'SideMenuComponent', 'selector': 'app-side-menu'},{'name': 'TagsetCreateEditComponent', 'selector': 'app-tagset-create-edit'},{'name': 'TagsetsListComponent', 'selector': 'app-tagsets-list'},{'name': 'UserFormComponent', 'selector': 'app-user-form'},{'name': 'UserListComponent', 'selector': 'app-user-list'},{'name': 'WorkspaceComponent', 'selector': 'app-workspace'},{'name': 'WorkspaceCorpusExplorerComponent', 'selector': 'app-workspace-corpus-explorer'},{'name': 'WorkspaceLayersVisibilityManagerComponent', 'selector': 'app-workspace-layers-visibility-manager'},{'name': 'WorkspaceLayoutComponent', 'selector': 'app-workspace-layout'},{'name': 'WorkspaceLexiconEditTileComponent', 'selector': 'app-workspace-lexicon-edit-tile'},{'name': 'WorkspaceLexiconTileComponent', 'selector': 'app-workspace-lexicon-tile'},{'name': 'WorkspaceListComponent', 'selector': 'app-workspace-list'},{'name': 'WorkspaceMenuComponent', 'selector': 'app-workspace-menu'},{'name': 'WorkspaceTextSelectorComponent', 'selector': 'app-workspace-text-selector'},{'name': 'WorkspaceTextWindowComponent', 'selector': 'app-workspace-text-window'}];
    var DIRECTIVES = [{'name': 'NotDuplicateNameDirective', 'selector': '[appNotDuplicateName]'},{'name': 'TagsetValueNotDuplicateNameDirective', 'selector': '[appTagsetValueNotDuplicateName]'},{'name': 'UriValidator', 'selector': '[appUriValidator]'},{'name': 'WhitespacesValidatorDirective', 'selector': '[appWhitespacesValidator]'}];
    var ACTUAL_COMPONENT = {'name': 'WorkspaceTextWindowComponent'};
</script>
<script src="../js/tree.js"></script>

















                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'component';
            var COMPODOC_CURRENT_PAGE_URL = 'WorkspaceTextWindowComponent.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
